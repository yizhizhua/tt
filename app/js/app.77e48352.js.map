{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/base/PdfSidebar/PdfSidebar.vue?9374","webpack:///./src/components/base/PdfFindBar/PdfFindBar.vue?a81e","webpack:///./src/components/doc/PdfViewer/PdfViewer.vue?8fde","webpack:///./src/components/base/PageController/PageController.vue?7cdb","webpack:///./src/App.vue","webpack:///./src/components/base/PdfFindBar/PdfFindBar.vue","webpack:///./src/components/doc/PdfViewer/PdfViewer.vue","webpack:///./src/constants/event.ts","webpack:///./src/utils/watermark.js","webpack:///./src/constants/password.ts","webpack:///./src/utils/localStorage.ts","webpack:///./src/utils/mobile.js","webpack:///./src/utils/index.ts","webpack:///src/components/doc/PdfViewer/PdfViewer.vue","webpack:///./src/components/doc/PdfViewer/PdfViewer.vue?9557","webpack:///./src/components/doc/PdfViewer/PdfViewer.vue?7b93","webpack:///./src/components/doc/PdfViewer/WebViewer.js","webpack:///./src/components/doc/PdfViewer/constants.js","webpack:///./src/components/doc/PdfViewer/PasswordPrompt.js","webpack:///./src/components/doc/PdfViewer/PdfSidebar.js","webpack:///./src/components/doc/PdfViewer/app.js","webpack:///./src/components/doc/PdfViewer/index.js","webpack:///./src/components/doc/OfdViewer/OfdViewer.vue","webpack:///src/components/doc/OfdViewer/OfdViewer.vue","webpack:///./src/components/doc/OfdViewer/OfdViewer.vue?7581","webpack:///./src/components/doc/OfdViewer/OfdViewer.vue?876b","webpack:///./src/components/doc/OfdViewer/index.js","webpack:///./src/components/doc/ImageViewer/ImageViewer.vue","webpack:///src/components/doc/ImageViewer/ImageViewer.vue","webpack:///./src/components/doc/ImageViewer/ImageViewer.vue?31e0","webpack:///./src/components/doc/ImageViewer/ImageViewer.vue?ea14","webpack:///./src/components/doc/ImageViewer/index.js","webpack:///./src/components/doc/index.js","webpack:///src/components/base/PdfFindBar/PdfFindBar.vue","webpack:///./src/components/base/PdfFindBar/PdfFindBar.vue?9bd6","webpack:///./src/components/base/PdfFindBar/PdfFindBar.vue?4c36","webpack:///./src/components/base/PdfFindBar/index.js","webpack:///./src/components/base/PdfSidebar/PdfSidebar.vue","webpack:///./src/components/base/PdfSidebar/PdfSidebar.vue?d40a","webpack:///./src/components/base/PdfSidebar/PdfSidebar.vue?a156","webpack:///./src/components/base/PdfSidebar/PdfSidebar.vue?1af6","webpack:///./src/components/base/PdfSidebar/index.js","webpack:///./src/components/base/PageController/PageController.vue","webpack:///./src/components/base/PageController/PageController.vue?68e3","webpack:///./src/components/base/PageController/PageController.vue?bcf6","webpack:///./src/components/base/PageController/PageController.vue?e987","webpack:///./src/components/base/PageController/index.js","webpack:///./src/components/base/SecondaryToolbar/SecondaryToolbar.vue","webpack:///./src/components/base/RotateController/RotateController.vue","webpack:///./src/components/base/RotateController/RotateController.vue?8a00","webpack:///./src/components/base/RotateController/RotateController.vue?eb79","webpack:///./src/components/base/RotateController/RotateController.vue?f420","webpack:///./src/components/base/RotateController/index.js","webpack:///./src/components/base/PdfCursorTools/PdfCursorTools.vue","webpack:///./src/components/base/PdfCursorTools/PdfCursorTools.vue?c849","webpack:///./src/components/base/PdfCursorTools/PdfCursorTools.vue?d419","webpack:///./src/components/base/PdfCursorTools/PdfCursorTools.vue?7e40","webpack:///./src/components/base/PdfCursorTools/index.js","webpack:///./src/components/base/PdfScrollMode/PdfScrollMode.vue","webpack:///./src/components/base/PdfScrollMode/PdfScrollMode.vue?5c46","webpack:///./src/components/base/PdfScrollMode/PdfScrollMode.vue?4789","webpack:///./src/components/base/PdfScrollMode/PdfScrollMode.vue?bc01","webpack:///./src/components/base/PdfScrollMode/index.js","webpack:///./src/components/base/PdfSpreadMode/PdfSpreadMode.vue","webpack:///./src/components/base/PdfSpreadMode/PdfSpreadMode.vue?7dfb","webpack:///./src/components/base/PdfSpreadMode/PdfSpreadMode.vue?1392","webpack:///./src/components/base/PdfSpreadMode/PdfSpreadMode.vue?81cd","webpack:///./src/components/base/PdfSpreadMode/index.js","webpack:///./src/components/base/SecondaryToolbar/SecondaryToolbar.vue?4477","webpack:///./src/components/base/SecondaryToolbar/SecondaryToolbar.vue?eb3c","webpack:///./src/components/base/SecondaryToolbar/SecondaryToolbar.vue?b8f1","webpack:///./src/components/base/SecondaryToolbar/index.js","webpack:///./src/components/base/ScaleController/ScaleController.vue","webpack:///src/components/base/ScaleController/ScaleController.vue","webpack:///./src/components/base/ScaleController/ScaleController.vue?6c63","webpack:///./src/components/base/ScaleController/ScaleController.vue?207c","webpack:///./src/components/base/ScaleController/index.js","webpack:///./src/components/base/ProgressBar/ProgressBar.vue","webpack:///./src/components/base/ProgressBar/ProgressBar.vue?631a","webpack:///./src/components/base/ProgressBar/ProgressBar.vue?406b","webpack:///./src/components/base/ProgressBar/ProgressBar.vue?274d","webpack:///./src/components/base/ProgressBar/index.js","webpack:///./src/components/base/PasswordPrompt/PasswordPrompt.vue","webpack:///src/components/base/PasswordPrompt/PasswordPrompt.vue","webpack:///./src/components/base/PasswordPrompt/PasswordPrompt.vue?303a","webpack:///./src/components/base/PasswordPrompt/PasswordPrompt.vue?580a","webpack:///./src/components/base/PasswordPrompt/index.js","webpack:///./src/components/biz/PasswordVerify/PasswordVerify.vue","webpack:///src/components/biz/PasswordVerify/PasswordVerify.vue","webpack:///./src/components/biz/PasswordVerify/PasswordVerify.vue?9ab3","webpack:///./src/components/biz/PasswordVerify/PasswordVerify.vue?ac6f","webpack:///./src/components/biz/PasswordVerify/index.js","webpack:///./src/components/biz/WaterMark/WaterMark.vue","webpack:///./src/constants/watermark.ts","webpack:///src/components/biz/WaterMark/WaterMark.vue","webpack:///./src/components/biz/WaterMark/WaterMark.vue?0478","webpack:///./src/components/biz/WaterMark/WaterMark.vue?8211","webpack:///./src/components/biz/WaterMark/index.js","webpack:///./src/config/setWatermarkConfig.ts","webpack:///./src/config/index.ts","webpack:///./src/service/request.js","webpack:///./src/service/index.js","webpack:///src/App.vue","webpack:///./src/App.vue?ff1e","webpack:///./src/App.vue?315a","webpack:///./src/store/modules/seal.js","webpack:///./src/store/modules/config.js","webpack:///./src/store/modules/dialog.js","webpack:///./src/store/index.js","webpack:///./src/plugins/vuetify.ts","webpack:///./src/main.ts","webpack:///./src/components/base/ScaleController/ScaleController.vue?e480","webpack:///./node_modules/@cloud-reader/pdf.js-dist/legacy/web lazy namespace object"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_c","$event","stopPropagation","class","breakpoint","attrs","model","callback","expression","_vm","fileUrl","textLayerMode","ref","isPwdDialogVisible","onSignPwdSubmit","setIsPwdDialogVisible","staticRenderFns","staticClass","$$v","on","dispatch","_v","toggle_multiple","render","this","_self","onDragover","onDrop","_m","EVENT","PDF","ZOOM_IN","ZOOM_OUT","FIRST_PAGE","LAST_PAGE","PREVIOUS_PAGE","NEXT_PAGE","FIND_MATCHES_COUNT","PAGE_NUMBER_CHANGED","PAGE_CHANGING","FIND","UPDATE_FIND_MATCHES_COUNT","UPDATE_FIND_CONTROL_STATE","ROTATE_CHANGING","SCALE_CHANGING","SCALE_CHANGED","FILE_INPUT_CHANGE","DOCUMENT_ERROR","PRESENTATION_MODE_CHANGED","OUTLINE_LOADED","ATTACHMENTS_LOADED","LAYERS_LOADED","SIDEBAR_VIEW_CHANGED","PAGE_RENDERED","SWITCH_SCROLL_MODE","SWITCH_SPREAD_MODE","UPDATE_LOADING_BAR","SHOW_LOADING_BAR","HIDE_LOADING_BAR","SET_PAGES_COUNT","SET_PAGE_NUMBER","SET_PAGE_SCALE","DOCUMENT_LOADED","SUBSCRIBE_OUTLINE","SUBSCRIBE_ATTACHMENT","SUBSCRIBE_THUMBNAIL_VIEW","UPDATE_THUMBNAIL_VIEW","OUTLINE_BIND_LINK","ATTACHMENT_BIND_LINK","THUMBNAIL_VIEW_BIND_LINK","SIDEBAR","TOGGLE","SWITCH_VIEW","UPDATE_THUMBNAIL_VIEWER","OFD","IMAGE","COMMON","PASSWORD","VERIFY","CANCEL","OPEN","PASSED","leftTopTransformToLeftBottom","leftTopPosition","pageHeight","leftBottomPosition","x","y","computeTextWdith","text","fontSize","font","tempCanvas","document","createElement","tempCtx","getContext","measureText","width","convertConfig","config","pageWidth","color","fontName","fullscreen","file","fileWidth","fileHeight","opacity","position","rotate","source","density","height","trim","size","Number","isTiled","padding","vertical","horizontal","getDistance","quadrant","rotationInRadians","Math","PI","textWidth","textDiagonal","sqrt","pow","diagonalAngle","atan","textHorizontalLength","textVerticalHeight","abs","sin","cos","getXYPositions","pageMidPointX","pageMidPointY","xDistance","yDistance","xyPositions","leftXCoordinate","rightXCoordinate","truth","upYCoordinate","bottomYCoordinate","renderWaterMark","targetCanvas","targetScale","targetWidth","targetHeight","pageView","pageCenterX","pageCenterY","translate","globalAlpha","Promise","resolve","textAlign","fillStyle","fillText","image","Image","onload","imageWidth","imageHeight","drawImage","src","targetCtx","canvas","then","watermarkImg","toDataURL","distance","minXDistance","minYDistance","PASSWORD_LOCAL_KEY","PASSWORD_LOCAL_TIME","PASSWORD_AES_KEY","Utf8","enc","saveLocal","encrypt","localStorage","setItem","AES","toString","getLocal","decrypt","getItem","removeLocal","removeItem","getLocalPassword","pwdLocalData","hasTimeOut","password","overTime","JSON","parse","timeDiff","Date","getTime","saveLocalPassword","param","isRemember","stringify","getBrowserInterfaceSize","innerWidth","innerHeight","compatMode","documentElement","clientWidth","clientHeight","body","clamp","v","min","max","convertThumb","page","vp","getViewport","scale","scalesize","canvasContext","viewport","promise","props","url","type","methods","evt","eventBus","fileInput","mounted","appContainer","mainContainer","viewerContainer","thumbnailView","outlineView","attachmentsView","component","WebViewer","app","zoomIn","zoomOut","pageScaleValue","pdfViewer","currentScaleValue","presetValue","pageScale","update","percent","previousPage","nextPage","pdfDocument","pagesCount","pageNumber","pdfThumbnailViewer","scrollThumbnailIntoView","pdfLinkService","goToPage","currentPageNumber","pageChanging","files","URL","createObjectURL","originalUrl","open","defaultUrl","reason","l10n","msg","_documentError","delta","pagesRotation","spreadMode","scrollMode","matchesCount","subscribeThumbnailView","pdfSidebar","promises","getPage","all","thumbnails","console","log","query","querySelector","thumbnail","outline","attachments","dest","goToDestination","content","filename","element","innerHTML","downloadManager","openOrDownloadData","SEARCH_MAP","0","1","2","3","SIDEBAR_VIEW_MAP","PasswordPrompt","verify","cancel","invokeCallback","passwordIncorrect","PASSWORD_RESPONSES","INCORRECT_PASSWORD","message","label","isCancel","Error","updateCallback","PDFSidebar","isOpen","active","SidebarView","THUMBS","isInitialViewSet","isInitialEventDispatched","onToggled","addEventListeners","switchView","NONE","view","UNKNOWN","dispatchEvent","forceOpen","isViewChanged","shouldForceRendering","close","OUTLINE","outlineButton","disabled","ATTACHMENTS","attachmentsButton","LAYERS","layersButton","error","updateThumbnailViewer","forceRendering","visibleView","pageIndex","getPageView","renderingState","RenderingStates","FINISHED","getThumbnail","setImage","toggle","DISABLE_AUTO_FETCH_LOADING_BAR_TIMEOUT","ViewOnLoad","PREVIOUS","INITIAL","GlobalWorkerOptions","workerPort","pdfjsWorker","PDFViewerApplication","_initializedCapability","createPromiseCapability","appConfig","pdfLoadingTask","pdfHistory","pdfCursorTools","EventBus","isViewerEmbedded","parent","NullL10n","downloadComplete","pdfOutlineViewer","pdfAttachmentViewer","initialize","_initializeViewerComponents","bindEvents","pdfRenderingQueue","PDFRenderingQueue","onIdle","_cleanup","linkService","PDFLinkService","findController","PDFFindController","passwordPrompt","container","viewer","PDFViewer","setViewer","PDFThumbnailViewer","renderingQueue","setThumbnailViewer","PDFHistory","setHistory","needSideBar","PDFOutlineViewer","DownloadManager","PDFAttachmentViewer","PDFCursorTools","cursorToolOnLoad","CursorTool","SELECT","cleanup","run","webViewer","initialized","settled","numPages","isInPresentationMode","increaseScale","decreaseScale","destroy","setDocument","reset","args","parameters","loadingTask","getDocument","cMapUrl","cMapPacked","standardFontDataUrl","onPassword","externalLinkEnabled","setUpdateCallback","onProgress","loaded","total","progress","load","InvalidPDFException","MissingPDFException","UnexpectedResponseException","moreInfo","_otherError","moreInfoText","version","build","stack","lineNumber","line","parts","join","level","round","updateLoadingBar","disableAutoFetchLoadingBarTimeout","clearTimeout","showLoadingBar","setTimeout","hideLoadingBar","getDownloadInfo","_contentLength","openActionPromise","getOpenAction","catch","setPagesCount","firstPagePromise","onePageRendered","pagesPromise","openAction","_initializePdfHistory","fingerprint","fingerprints","viewOnLoad","initialDest","setInitialView","getOutline","subscribeOutline","getAttachments","subscribeAttachment","documentLoaded","resetHistory","updateUrl","initialBookmark","initialRotation","explicitDest","DEFAULT_SCALE_VALUE","printing","isThumbnailViewEnabled","renderHighestPriority","_on","e","firstPage","lastPage","pageNumberChanged","scaleChanged","scaleChanging","rotatePage","switchScrollMode","switchSpreadMode","fileInputChange","updateFindMatchesCount","outlineBindLink","attachmentBindLink","thumbnailViewBindLink","updateThumbnailView","PdfViewer","install","Vue","$PDFViewerApplication","_setupProxy","extend","OfdViewer","ImageViewer","components","forEach","use","current","computed","counter","watch","val","phraseSearch","entireWord","highlightAll","findPrevious","caseSensitive","matchDiacritics","getSearchParams","params","updateType","PdfFindBar","scopedSlots","fn","_u","staticStyle","action","SIDEBAR_VIEW","viewOutline","getElementById","viewThumbnail","viewAttachments","onTreeLoaded","outlineloaded","attachmentsloaded","destroyed","off","PdfSidebar","$vuetify","oldPageNumber","created","setPageNumber","exec","PageController","_b","handleRotateCw","placement","String","default","handleRotateCcw","RotateController","rawName","cursorSelectTool","switchTool","CURSOR_TOOL","cursorHandTool","HAND","PdfCursorTools","SCROLL_MODE","PdfScrollMode","SPREAD_MODE","PdfSpreadMode","SecondaryToolbar","options","selectedScale","customScale","MIN_SCALE","MAX_SCALE","selectScale","item","setPageScale","option","predefinedValueFound","ScaleController","_setup","visible","isNaN","ProgressBar","dialog","showPassword","submit","passed","show1","$set","passwordDialog","remember","loading","pwd","rules","setType","PasswordVerify","watermark","isText","rotateItems","notNULL","horizontalItems","WATERMARK_FONT_OPTIONS","WATERMARK_ROTATE_OPTIONS","WATERMARK_VERTICAL_OPTIONS","WATERMARK_HORIZONTAL_OPTIONS","fontNames","verticalItems","textMode","isNumber","handler","deep","documentRenderWatermark","addWatermark","previewWatermark","previewCanvas","previewScale","previewWidth","previewHeight","getOutput","output","replace","split","b","g","getImageBase64","reader","WaterMark","defaultWatermarkConfig","setWatermarkConfig","userWatermarkConfig","assign","filter","AppConfig","userConfig","documentId","_url","_documentId","_previewWatermark","setAppConfig","KGPdfViewerWebApp","request","axios","baseURL","method","docType","paramsSerializer","QueryString","arrayFormat","headers","interceptors","isEncrypt","response","status","responseType","byteLength","companyName","alert","reject","sealType","sealOrigin","certOrigin","queryString","location","search","undefined","parseQueryString","download","getSeals","_password","userId","filterSealNames","keySN","stampSeal","seals","cert","stampType","convetSeals","map","seal","extraPosition","lastSelected","currentPage","esid","imgExt","imgdata","left","top","sealData","sealtag","signName","signSN","Base64","unitName","userCode","userName","algorithmType","appcode","clientCode","isUkey","isWebAuth","pdfPwd","verifySeal","pageNo","isSM","deleteSeal","checkLastone","sideBar","mapState","isSealSelectorVisible","operatorPermission","sealList","currentScale","TEXT_LAYER_MODE","mapActionsSeal","mapActionsDialog","mapActionsPermission","mapActionsPage","sidebarToggle","onSealSelctorBtnClick","pwdInfo","onSealSelectorClose","onSealSelectorCancel","onSealSelectorConfirm","img","state","isStampSeal","sealDisabled","getters","actions","handleStampSeal","commit","root","setIsStampSeal","payload","setIsSealSelectorVisible","getSealList","Services","setSealDisabled","mutations","setSealList","namespaced","readOnly","setDocumentId","setUrl","setReadOnly","isSignaturePadVisible","setIsSignaturePadVisible","Vuex","Store","Vuetify","mobileBreakpoint","productionTip","$appConfig","$http","$service","service","DocViewer","store","vuetify","h","App","$mount","webpackEmptyAsyncContext","req","code","keys","id"],"mappings":"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","file":"js/app.77e48352.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([1,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PdfSidebar.vue?vue&type=style&index=0&id=e3b84b30&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PdfFindBar.vue?vue&type=style&index=0&id=c787962a&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PdfViewer.vue?vue&type=style&index=0&id=206326e6&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageController.vue?vue&type=style&index=0&id=1ba87a9b&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-app',[_c('v-app-bar',{attrs:{\"app\":\"\",\"dense\":_vm.$vuetify.breakpoint.mobile}},[_c('v-app-bar-nav-icon',{on:{\"click\":function($event){$event.stopPropagation();return _vm.sidebarToggle.apply(null, arguments)}}}),_c('v-spacer'),_c('PageController'),_c('v-divider',{class:_vm.$vuetify.breakpoint.mobile ? 'mx-1' : 'mx-4',attrs:{\"vertical\":\"\"}}),_c('ScaleController'),_c('v-divider',{class:_vm.$vuetify.breakpoint.mobile ? 'mx-1' : 'mx-4',attrs:{\"vertical\":\"\"}}),_c('v-spacer'),(!_vm.$vuetify.breakpoint.mobile)?_c('PdfFindBar'):_vm._e(),_c('WaterMark'),_c('SecondaryToolbar')],1),_c('v-navigation-drawer',{attrs:{\"absolute\":\"\",\"left\":\"\",\"temporary\":\"\"},model:{value:(_vm.sideBar.visible),callback:function ($$v) {_vm.$set(_vm.sideBar, \"visible\", $$v)},expression:\"sideBar.visible\"}},[_c('PdfSidebar')],1),_c('v-main',[_c('ProgressBar'),_c('PdfViewer',{attrs:{\"url\":_vm.fileUrl,\"textLayerMode\":_vm.textLayerMode}}),_c('PasswordPrompt')],1),_c('PasswordVerify',{ref:\"signPwd\",attrs:{\"visible\":_vm.isPwdDialogVisible},on:{\"handleSubmit\":_vm.onSignPwdSubmit,\"hideSignPwd\":function($event){return _vm.setIsPwdDialogVisible(false)}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-menu',{attrs:{\"offset-y\":\"\",\"close-on-click\":false,\"close-on-content-click\":false,\"allow-overflow\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({attrs:{\"id\":\"viewFind\",\"icon\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-magnify\")])],1)]}}])},[_c('v-card',[_c('v-container',[_c('v-row',{staticClass:\"findbarInputContainer\",attrs:{\"justify\":\"space-around\",\"align\":\"center\",\"id\":\"findbarInputContainer\"}},[_c('v-text-field',{attrs:{\"id\":\"findInput\",\"placeholder\":\"在文档中查找...\",\"counter\":_vm.counter,\"counter-value\":(_) => this.current},model:{value:(_vm.query),callback:function ($$v) {_vm.query=$$v},expression:\"query\"}}),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.dispatch('again', true)}}},[_c('v-icon',[_vm._v(\"mdi-arrow-up\")])],1),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.dispatch('again')}}},[_c('v-icon',[_vm._v(\"mdi-arrow-down\")])],1)],1),_c('v-row',{attrs:{\"justify\":\"space-around\",\"align\":\"center\"}},[_c('v-btn-toggle',{attrs:{\"tile\":\"\",\"group\":\"\",\"multiple\":\"\"},model:{value:(_vm.toggle_multiple),callback:function ($$v) {_vm.toggle_multiple=$$v},expression:\"toggle_multiple\"}},[_c('v-btn',{attrs:{\"text\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.updateType('highlightallchange')}}},[_vm._v(\" 全部高亮 \")]),_c('v-btn',{attrs:{\"text\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.updateType('casesensitivitychange')}}},[_vm._v(\" 区分大小写 \")]),_c('v-btn',{attrs:{\"text\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.updateType('diacriticmatchingchange')}}},[_vm._v(\" 匹配变音符号 \")]),_c('v-btn',{attrs:{\"text\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.updateType('entirewordchange')}}},[_vm._v(\" 字词匹配 \")])],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"appContainer\",attrs:{\"id\":\"appContainer\"},on:{\"dragover\":_vm.onDragover,\"drop\":_vm.onDrop}},[_vm._m(0),_c('input',{staticClass:\"fileInput\",attrs:{\"type\":\"file\",\"id\":\"fileInput\"}})])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"viewerContainer\",attrs:{\"id\":\"viewerContainer\"}},[_c('div',{staticClass:\"pdfViewer\",attrs:{\"id\":\"viewer\"}})])\n}]\n\nexport { render, staticRenderFns }","const EVENT = {\n  PDF: {\n    /**\n     * pdf.js 自带 event 事件\n     */\n    ZOOM_IN: \"zoomin\",\n    ZOOM_OUT: \"zoomout\",\n    FIRST_PAGE: \"firstpage\",\n    LAST_PAGE: \"lastpage\",\n    PREVIOUS_PAGE: \"previouspage\",\n    NEXT_PAGE: \"nextpage\",\n    FIND_MATCHES_COUNT: \"findmatchescount\",\n    PAGE_NUMBER_CHANGED: \"pagenumberchanged\",\n    PAGE_CHANGING: \"pagechanging\",\n    FIND: \"find\",\n    UPDATE_FIND_MATCHES_COUNT: \"updatefindmatchescount\",\n    UPDATE_FIND_CONTROL_STATE: \"updatefindcontrolstate\",\n    ROTATE_CHANGING: \"rotateChanging\",\n    SCALE_CHANGING: \"scalechanging\",\n    SCALE_CHANGED: \"scalechanged\",\n    FILE_INPUT_CHANGE: \"fileinputchange\",\n    DOCUMENT_ERROR: \"documenterror\",\n    PRESENTATION_MODE_CHANGED: \"presentationmodechanged\",\n    OUTLINE_LOADED: \"outlineloaded\",\n    ATTACHMENTS_LOADED: \"attachmentsloaded\",\n    LAYERS_LOADED: \"layersloaded\",\n    SIDEBAR_VIEW_CHANGED: \"sidebarviewchanged\",\n    PAGE_RENDERED: \"pagerendered\",\n\n\n    /**\n     * 自定义 event 事件\n     */\n    SWITCH_SCROLL_MODE: \"switchScrollMode\",\n    SWITCH_SPREAD_MODE: \"switchSpreadMode\",\n    UPDATE_LOADING_BAR: \"updateloadingbar\",\n    SHOW_LOADING_BAR: \"showloadingbar\",\n    HIDE_LOADING_BAR: \"hideloadingbar\",\n    SET_PAGES_COUNT: \"setpagescount\",\n    SET_PAGE_NUMBER: \"setpagenumber\",\n    SET_PAGE_SCALE: \"setpagescale\",\n    DOCUMENT_LOADED: \"documentLoaded\",\n\n    // 缩略图 附件 大纲 订阅事件\n    SUBSCRIBE_OUTLINE:'subscribeOutline',\n    SUBSCRIBE_ATTACHMENT:'subscribeAttachment',\n    SUBSCRIBE_THUMBNAIL_VIEW:'subscribeThumbnailView',\n    UPDATE_THUMBNAIL_VIEW:'updateThumbnailView',\n    // 缩略图 附件 大纲 点击事件\n    OUTLINE_BIND_LINK: \"outlineBindLink\",\n    ATTACHMENT_BIND_LINK: \"attachmentBindLink\",\n    THUMBNAIL_VIEW_BIND_LINK: \"thumbnailViewBindLink\",\n    \n\n    SIDEBAR: {\n      TOGGLE: \"toggle\",\n      SWITCH_VIEW: \"switchView\",\n      UPDATE_THUMBNAIL_VIEWER: \"updatethumbnailviewer\",\n    },\n  },\n  OFD: {},\n  IMAGE: {},\n  COMMON: {\n    /**\n     * 自定义 event 事件\n     */\n    PASSWORD: {\n      VERIFY: \"common.password.verify\",\n      CANCEL: \"common.password.cancel\",\n      OPEN: \"common.password.open\",\n      PASSED: \"common.password.passed\",\n    },\n  },\n};\n\nexport default EVENT;\n","// 计算相对于左下角坐标\nconst leftTopTransformToLeftBottom = (leftTopPosition, pageHeight) => {\n  const leftBottomPosition = {\n    x: leftTopPosition.x,\n    y: pageHeight - leftTopPosition.y,\n  };\n  return leftBottomPosition;\n};\n\n// 计算水印宽度\nconst computeTextWdith = (text, fontSize, font) => {\n  if (font) {\n    // 1、使用 Canvas 自带方法获取文字宽度，\n    // 这里会考虑字体宽度，因此，同样字数和字号，字体不同，宽度也会不同\n    const tempCanvas = document.createElement(\"canvas\");\n    const tempCtx = tempCanvas.getContext(\"2d\");\n    if (tempCtx) {\n      tempCtx.font = fontSize + \"px \" + font;\n      return tempCtx.measureText(text).width;\n    } else {\n      return fontSize * text.length;\n    }\n  } else {\n    // 2、使用与服务端相同的方案获取文字宽度，\n    // 直接用字号乘以字数，无论用什么字体，宽度都是一样的\n    return fontSize * text.length;\n  }\n};\n\n// 转换水印数据\nconst convertConfig = (config, pageWidth, pageHeight) => {\n  const result = {\n    color: \"\",\n    font: \"\",\n    fontName: \"\",\n    fontSize: 0,\n    fullscreen: \"\",\n    file: \"\",\n    fileWidth: 0,\n    fileHeight: 0,\n    leftBottomPosition: { x: 0, y: 0 },\n    opacity: 0,\n    position: { x: 0, y: 0 },\n    rotate: 0,\n    source: \"\",\n    text: \"\",\n    density: 0,\n    width: 0,\n    height: 0,\n  };\n\n  if (config.file && config.file.length !== 0) {\n    result.source = \"file\";\n  } else {\n    result.source = \"text\";\n  }\n\n  // 文字水印\n  if (result.source === \"text\") {\n    //文字内容\n    result.text = config.text.trim();\n    result.font = config.fontName;\n    result.fontName = config.font;\n    result.fontSize = config.size;\n    result.color = config.color;\n  }\n\n  // 文件水印\n  if (result.source === \"file\") {\n    result.file = config.file;\n  }\n\n  // 旋转\n  result.rotate = Number(config.rotate) % 360;\n  if (result.rotate < 0) {\n    result.rotate = 360 + result.rotate;\n  }\n\n  // 将旋转角度处理成逆时针旋转\n  result.rotate = result.rotate !== 0 ? 360 - result.rotate : 0;\n\n  // 不透明度\n  result.opacity = config.opacity;\n\n  if (config.isTiled) {\n    // 平铺水印\n    result.fullscreen = \"tile\";\n    // 密度\n    result.density = Number(config.density) / 100;\n  } else {\n    // 单个水印\n    result.fullscreen = \"no\";\n    result.position = { x: 0, y: 0 };\n\n    const padding = 20;\n\n    // 垂直\n    if (config.vertical === \"top\") {\n      result.position.y = -pageHeight / 2 + padding;\n    } else if (config.vertical === \"bottom\") {\n      result.position.y = pageHeight / 2 - padding;\n    } else if (config.vertical === \"middle\") {\n      result.position.y = 0;\n    } else {\n      result.position.y = Number(config.vertical);\n    }\n\n    // 水平\n    if (config.horizontal === \"left\") {\n      result.position.x = -pageWidth / 2 + padding;\n    } else if (config.horizontal === \"right\") {\n      result.position.x = pageWidth / 2 - padding;\n    } else if (config.horizontal === \"center\") {\n      result.position.x = 0;\n    } else {\n      result.position.x = Number(config.horizontal);\n    }\n\n    // 相对于页面左下角\n    result.leftBottomPosition = leftTopTransformToLeftBottom(\n      {\n        x: pageWidth / 2 + result.position.x,\n        y: pageHeight / 2 + result.position.y,\n      },\n      pageHeight\n    );\n  }\n\n  return result;\n};\n\n/**\n * 计算水印在 x，y 轴上投影的长度，按页面原始比例计算\n */\nconst getDistance = (config) => {\n  const result = { x: 0, y: 0 };\n\n  const quadrant = config.rotate;\n  const rotationInRadians = (quadrant * Math.PI) / 180;\n  let width = 0;\n  let height = 0;\n\n  if (config.source === \"text\") {\n    // 计算文字宽度\n    const textWidth = computeTextWdith(config.text, config.fontSize);\n\n    width = textWidth / config.density;\n    height = config.fontSize / config.density;\n  }\n\n  if (config.source === \"file\") {\n    width = config.fileWidth / config.density;\n    height = config.fileHeight / config.density;\n  }\n\n  // 水印对角线\n  const textDiagonal = Math.sqrt(Math.pow(width, 2) + Math.pow(height, 2));\n  // 对角线与水印底边的夹角\n  const diagonalAngle = Math.atan(height / width);\n\n  // 水平宽度\n  let textHorizontalLength = 0;\n  // 垂直高度\n  let textVerticalHeight = 0;\n\n  if (quadrant === 0 || quadrant === 180) {\n    textVerticalHeight = height;\n    textHorizontalLength = width;\n  } else if (quadrant === 90 || quadrant === 270) {\n    textVerticalHeight = width;\n    textHorizontalLength = height;\n  } else if (0 < quadrant && quadrant < 90) {\n    textVerticalHeight =\n      textDiagonal * Math.abs(Math.sin(rotationInRadians + diagonalAngle));\n    textHorizontalLength =\n      textDiagonal * Math.abs(Math.cos(rotationInRadians + diagonalAngle));\n  } else if (90 < quadrant && quadrant < 180) {\n    textVerticalHeight =\n      textDiagonal *\n      Math.abs(Math.sin(Math.PI - rotationInRadians + diagonalAngle));\n    textHorizontalLength =\n      textDiagonal *\n      Math.abs(Math.cos(Math.PI - rotationInRadians + diagonalAngle));\n  } else if (180 < quadrant && quadrant < 270) {\n    textVerticalHeight =\n      textDiagonal *\n      Math.abs(Math.sin(rotationInRadians - Math.PI + diagonalAngle));\n    textHorizontalLength =\n      textDiagonal *\n      Math.abs(Math.cos(rotationInRadians - Math.PI + diagonalAngle));\n  } else if (270 < quadrant && quadrant < 360) {\n    textVerticalHeight =\n      textDiagonal *\n      Math.abs(Math.sin(2 * Math.PI - rotationInRadians + diagonalAngle));\n    textHorizontalLength =\n      textDiagonal *\n      Math.abs(Math.cos(2 * Math.PI - rotationInRadians + diagonalAngle));\n  }\n\n  result.x = textHorizontalLength;\n  result.y = textVerticalHeight;\n\n  return result;\n};\n\n/**\n * 计算页面上所有符合x（y）轴上水印距离的x（y）坐标。\n */\nconst getXYPositions = (\n  pageMidPointX,\n  pageMidPointY,\n  xDistance,\n  yDistance,\n  pageWidth,\n  pageHeight\n) => {\n  const xyPositions = { x: [], y: [] };\n\n  let leftXCoordinate = pageMidPointX;\n  let rightXCoordinate = pageMidPointX;\n\n  const truth = true;\n  while (truth) {\n    leftXCoordinate -= xDistance;\n    if (leftXCoordinate < 0) {\n      break;\n    }\n    xyPositions.x.push(leftXCoordinate);\n  }\n  xyPositions.x.push(pageMidPointX);\n  while (truth) {\n    rightXCoordinate += xDistance;\n    if (rightXCoordinate > pageWidth) {\n      break;\n    }\n    xyPositions.x.push(rightXCoordinate);\n  }\n\n  let upYCoordinate = pageMidPointY;\n  let bottomYCoordinate = pageMidPointY;\n\n  while (truth) {\n    upYCoordinate += yDistance;\n    if (upYCoordinate > pageHeight) {\n      break;\n    }\n    xyPositions.y.push(upYCoordinate);\n  }\n  xyPositions.y.push(pageMidPointY);\n  while (truth) {\n    bottomYCoordinate -= yDistance;\n    if (bottomYCoordinate < 0) {\n      break;\n    }\n    xyPositions.y.push(bottomYCoordinate);\n  }\n\n  return xyPositions;\n};\n\n/**\n * 渲染水印\n */\nconst renderWaterMark = (\n  config,\n  targetCanvas,\n  targetScale,\n  targetWidth,\n  targetHeight,\n  pageView\n) => {\n  // 创建一个不可见的 Canvas，先绘制一个水印，之后再与页面显示的 Canvas 合并\n  // 否则之后复制、移动、旋转、缩放等操作会影响当前显示的 Canvas\n  const tempCanvas = document.createElement(\"canvas\");\n  tempCanvas.width = targetWidth;\n  tempCanvas.height = targetHeight;\n  const tempCtx = tempCanvas.getContext(\"2d\");\n\n  const pageCenterX = tempCanvas.width / 2;\n  const pageCenterY = tempCanvas.height / 2;\n\n  if (tempCtx) {\n    // 绘制临时水印\n    tempCtx.translate(tempCanvas.width / 2, tempCanvas.height / 2);\n    tempCtx.rotate((config.rotate * Math.PI) / 180);\n    tempCtx.translate(-tempCanvas.width / 2, -tempCanvas.height / 2);\n\n    // 不透明度\n    tempCtx.globalAlpha = config.opacity;\n\n    new Promise((resolve) => {\n      if (config.source === \"text\" && config.text) {\n        // 设置文字样式\n        tempCtx.textAlign = \"center\";\n        tempCtx.fillStyle = config.color;\n        tempCtx.font = config.fontSize * targetScale + \"px \" + config.font;\n\n        // 绘制文字\n        tempCtx.fillText(config.text, pageCenterX, pageCenterY);\n\n        resolve();\n      } else if (config.source === \"file\" && config.file) {\n        const image = new Image();\n        image.onload = function () {\n          const imageWidth = image.width * targetScale;\n          const imageHeight = image.height * targetScale;\n          config.fileWidth = image.width;\n          config.fileHeight = image.height;\n          tempCtx.drawImage(\n            image,\n            0,\n            0,\n            image.width,\n            image.height,\n            pageCenterX - imageWidth / 2,\n            pageCenterY - imageHeight / 2,\n            imageWidth,\n            imageHeight\n          );\n          resolve();\n        };\n        image.src = config.file;\n      } else if (pageView) {\n        targetCanvas.width = targetWidth;\n        targetCanvas.height = targetHeight;\n        const targetCtx = targetCanvas.getContext(\"2d\");\n        if (targetCtx) {\n          targetCtx.drawImage(\n            pageView.canvas,\n            0,\n            0,\n            pageView.canvas.width,\n            pageView.canvas.height,\n            0,\n            0,\n            targetWidth,\n            targetHeight\n          );\n        }\n      }\n    }).then(() => {\n      const watermarkImg = tempCanvas.toDataURL(\"png\", 1);\n      return new Promise((resolve) => {\n        const image = new Image();\n        image.onload = function () {\n          const targetCtx = targetCanvas.getContext(\"2d\");\n\n          if (pageView && targetCtx) {\n            targetCanvas.width = targetWidth;\n            targetCanvas.height = targetHeight;\n            targetCtx.drawImage(\n              pageView.canvas,\n              0,\n              0,\n              pageView.canvas.width,\n              pageView.canvas.height,\n              0,\n              0,\n              targetWidth,\n              targetHeight\n            );\n          }\n\n          const pageCenterX = targetWidth / 2;\n          const pageCenterY = targetHeight / 2;\n          const textLayerElements = [];\n          if (config.fullscreen === \"tile\") {\n            // 平铺\n            const distance = getDistance(config);\n            const minXDistance = distance.x;\n            const minYDistance = distance.y;\n            let yDistance;\n            const xDistance = (yDistance =\n              minXDistance > minYDistance ? minXDistance : minYDistance);\n\n            const xyPositions = getXYPositions(\n              targetWidth / 2,\n              targetHeight / 2,\n              xDistance * targetScale,\n              yDistance * targetScale,\n              targetWidth,\n              targetHeight\n            );\n            for (let i = 0; i < xyPositions.x.length; i++) {\n              for (let j = 0; j < xyPositions.y.length; j++) {\n                // 渲染水印\n                targetCtx &&\n                  targetCtx.drawImage(\n                    image,\n                    0,\n                    0,\n                    image.width,\n                    image.height,\n                    xyPositions.x[i] - image.width / 2,\n                    xyPositions.y[j] - image.height / 2,\n                    image.width,\n                    image.height\n                  );\n              }\n            }\n          } else {\n            // 单个水印\n            const horizontal = config.position.x * targetScale;\n            const vertical = config.position.y * targetScale;\n\n            // 渲染水印\n            targetCtx &&\n              targetCtx.drawImage(\n                image,\n                0,\n                0,\n                image.width,\n                image.height,\n                pageCenterX - image.width / 2 + horizontal,\n                pageCenterY - image.height / 2 + vertical,\n                image.width,\n                image.height\n              );\n          }\n          resolve();\n        };\n        image.src = watermarkImg;\n      });\n    });\n  }\n};\n\nexport { convertConfig, renderWaterMark };\n","const PASSWORD_LOCAL_KEY = \"PDF_PWD\";\r\nconst PASSWORD_LOCAL_TIME = 7 * 24 * 60 * 60 * 1000;\r\nconst PASSWORD_AES_KEY = \"+96]4Up@<ZS3(#V0y55-Z-e0\";\r\n\r\nexport { PASSWORD_LOCAL_KEY, PASSWORD_LOCAL_TIME, PASSWORD_AES_KEY };\r\n","import { AES, enc } from \"crypto-js\";\r\nimport {\r\n  PASSWORD_LOCAL_KEY,\r\n  PASSWORD_LOCAL_TIME,\r\n  PASSWORD_AES_KEY,\r\n} from \"@/constants/password\";\r\n\r\nconst { Utf8 } = enc;\r\n\r\nconst saveLocal = (key: string, value: string, encrypt = false): void => {\r\n  if (encrypt) {\r\n    localStorage.setItem(key, AES.encrypt(value, PASSWORD_AES_KEY).toString());\r\n  } else {\r\n    localStorage.setItem(key, value);\r\n  }\r\n};\r\n\r\nconst getLocal = (key: string, decrypt = false): string | null => {\r\n  const value = localStorage.getItem(key);\r\n\r\n  if (value) {\r\n    if (decrypt) {\r\n      return AES.decrypt(value, PASSWORD_AES_KEY).toString(Utf8);\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nconst removeLocal = (key: string): void => {\r\n  localStorage.removeItem(key);\r\n};\r\n\r\nconst clearLocal = (): void => {\r\n  localStorage.clear();\r\n};\r\n\r\n/**\r\n * localStorage\r\n */\r\nconst getLocalPassword = () => {\r\n  const pwdLocalData = getLocal(PASSWORD_LOCAL_KEY, true);\r\n  if (pwdLocalData) {\r\n    const data = {\r\n      hasTimeOut: false,\r\n      password: \"\",\r\n      overTime: \"\",\r\n    };\r\n    const { password, overTime } = JSON.parse(pwdLocalData);\r\n    const timeDiff = Math.abs(overTime - new Date().getTime());\r\n    const hasTimeOut = timeDiff > PASSWORD_LOCAL_TIME;\r\n\r\n    if (hasTimeOut) {\r\n      removeLocal(PASSWORD_LOCAL_KEY);\r\n    }\r\n\r\n    data.overTime = overTime;\r\n    data.password = password;\r\n    data.hasTimeOut = hasTimeOut;\r\n\r\n    return data;\r\n  }\r\n\r\n  return { hasTimeOut: true };\r\n};\r\n\r\n/**\r\n * localStorage\r\n */\r\ntype saveType = {\r\n  password: string;\r\n  isRemember: boolean;\r\n};\r\n\r\nconst saveLocalPassword = (param: saveType): void => {\r\n  const { password, isRemember } = param;\r\n\r\n  if (!password.length) {\r\n    return;\r\n  }\r\n\r\n  if (isRemember) {\r\n    const overTime = new Date().getTime() + PASSWORD_LOCAL_TIME;\r\n    saveLocal(\r\n      PASSWORD_LOCAL_KEY,\r\n      JSON.stringify({ password: password, overTime }),\r\n      true\r\n    );\r\n  } else if (isRemember) {\r\n    removeLocal(PASSWORD_LOCAL_KEY);\r\n  }\r\n};\r\n\r\nexport {\r\n  saveLocal,\r\n  getLocal,\r\n  removeLocal,\r\n  clearLocal,\r\n  getLocalPassword,\r\n  saveLocalPassword,\r\n};\r\n","function getBrowserInterfaceSize() {\n  let pageWidth = window.innerWidth;\n  let pageHeight = window.innerHeight;\n\n  if (typeof pageWidth != \"number\") {\n    //在标准模式下面\n    if (document.compatMode == \"CSS1Compat\") {\n      pageWidth = document.documentElement.clientWidth;\n      pageHeight = document.documentElement.clientHeight;\n    } else {\n      pageWidth = document.body.clientWidth;\n      pageHeight = window.body.clientHeight;\n    }\n  }\n\n  return {\n    pageWidth: pageWidth,\n    pageHeight: pageHeight,\n  };\n}\n\nexport { getBrowserInterfaceSize };\n","function clamp(v: number, min: number, max: number) {\n  return Math.min(Math.max(v, min), max);\n}\n\nfunction convertThumb(page: any) {\n  // draw page to fit into 96x96 canvas\n  const vp = page.getViewport({ scale: 1 });\n  const canvas = document.createElement(\"canvas\");\n  const scalesize = 1;\n  canvas.width = vp.width * scalesize;\n  canvas.height = vp.height * scalesize;\n  const scale = Math.min(canvas.width / vp.width, canvas.height / vp.height);\n  return page\n    .render({\n      canvasContext: canvas.getContext(\"2d\"),\n      viewport: page.getViewport({ scale: scale }),\n    })\n    .promise.then(() => canvas);\n}\n\nimport { convertConfig, renderWaterMark } from \"./watermark\";\nimport {\n  getLocal,\n  removeLocal,\n  saveLocal,\n  getLocalPassword,\n  saveLocalPassword,\n} from \"@/utils/localStorage\";\nimport { getBrowserInterfaceSize } from \"@/utils/mobile\";\nexport {\n  clamp,\n  convertConfig,\n  renderWaterMark,\n  convertThumb,\n  getLocalPassword,\n  saveLocalPassword,\n  getLocal,\n  removeLocal,\n  saveLocal,\n  getBrowserInterfaceSize,\n};\n","<template>\n  <div\n    id=\"appContainer\"\n    class=\"appContainer\"\n    @dragover=\"onDragover\"\n    @drop=\"onDrop\"\n  >\n    <div id=\"viewerContainer\" class=\"viewerContainer\">\n      <div id=\"viewer\" class=\"pdfViewer\"></div>\n    </div>\n    <input type=\"file\" id=\"fileInput\" class=\"fileInput\" />\n  </div>\n</template>\n\n<script>\nimport EVENT from \"@/constants/event.ts\";\nimport { getBrowserInterfaceSize } from \"@/utils\";\nexport default {\n  props: {\n    url: {\n      type: String,\n    },\n    textLayerMode: {\n      type: Number,\n    },\n    password: {\n      type: String,\n    },\n  },\n  methods: {\n    onDragover(evt) {\n      evt.preventDefault();\n\n      evt.dataTransfer.dropEffect =\n        evt.dataTransfer.effectAllowed === \"copy\" ? \"copy\" : \"move\";\n    },\n\n    onDrop(evt) {\n      evt.preventDefault();\n\n      const { eventBus } = this.$PDFViewerApplication;\n      const { files } = evt.dataTransfer;\n\n      if (!files || files.length === 0) {\n        return;\n      }\n\n      eventBus.dispatch(EVENT.PDF.FILE_INPUT_CHANGE, {\n        source: this,\n        fileInput: evt.dataTransfer,\n      });\n    },\n  },\n\n  mounted() {\n    if (this.url) {\n      this.$PDFViewerApplication.defaultUrl = this.url;\n    }\n\n    const config = {\n      appContainer: document.getElementById(\"appContainer\"),\n      mainContainer: document.getElementById(\"viewerContainer\"),\n      viewerContainer: document.getElementById(\"viewer\"),\n      textLayerMode: this.textLayerMode,\n      password: this.password,\n      thumbnailView: document.getElementById(\"thumbnailView\"),\n      outlineView: document.getElementById(\"outlineView\"),\n      attachmentsView: document.getElementById(\"attachmentsView\"),\n    };\n\n    this.$PDFViewerApplication.run(config);\n\n    // 移动端计算container的可用高度  --- 会导致ios-safari浏览崩溃\n    document.getElementById(\"viewerContainer\").style.height =\n      getBrowserInterfaceSize().pageHeight - 48 + \"px\";\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.appContainer {\n  height: 100%;\n  width: 100%;\n  min-height: 800px;\n  position: relative;\n  background: #ededf0;\n\n  .selected .thumbnailImage {\n    border: 2px solid red !important;\n  }\n  .fileInput {\n    display: none;\n  }\n\n  .viewerContainer {\n    overflow: scroll;\n    -webkit-overflow-scrolling: touch;\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    box-sizing: content-box;\n\n    height: calc(100vh - 48px);\n\n    &.grab-to-pan-grab {\n      cursor: -webkit-grab !important;\n      cursor: grab !important;\n    }\n\n    &.grab-to-pan-grab\n      *:not(input):not(textarea):not(button):not(select):not(:link) {\n      cursor: inherit !important;\n    }\n\n    &.grab-to-pan-grab:active,\n    &.grab-to-pan-grabbing {\n      cursor: -webkit-grabbing !important;\n      cursor: grabbing !important;\n      position: fixed;\n      background: rgba(0, 0, 0, 0);\n      display: block;\n      top: 56px;\n      left: 0;\n      right: 0;\n      bottom: 0;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PdfViewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PdfViewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PdfViewer.vue?vue&type=template&id=206326e6&scoped=true&\"\nimport script from \"./PdfViewer.vue?vue&type=script&lang=js&\"\nexport * from \"./PdfViewer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PdfViewer.vue?vue&type=style&index=0&id=206326e6&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"206326e6\",\n  null\n  \n)\n\nexport default component.exports","import EVENT from \"@/constants/event\";\nimport { convertThumb } from \"@/utils\";\n\n/**\n * 为简化 app.js，将所有 webViewer 方法整理到 WebViewer 类中管理\n * 例如：initialized === webViewerInitialized\n */\nclass WebViewer {\n  constructor(app) {\n    this.app = app;\n    this.eventBus = app.eventBus;\n  }\n\n  /**\n   * 放大\n   */\n  zoomIn() {\n    this.app.zoomIn();\n  }\n\n  /**\n   * 缩小\n   */\n  zoomOut() {\n    this.app.zoomOut();\n  }\n\n  /**\n   * 选择缩放比例\n   */\n  scaleChanged(pageScaleValue) {\n    this.app.pdfViewer.currentScaleValue = pageScaleValue;\n  }\n\n  /**\n   * 监听页面缩放比例变化\n   */\n  scaleChanging(evt) {\n    this.eventBus.dispatch(EVENT.PDF.SET_PAGE_SCALE, {\n      pageScaleValue: evt.presetValue,\n      pageScale: evt.scale,\n    });\n    this.app.pdfViewer.update();\n  }\n\n  /**\n   * 显示进度条\n   */\n  showLoadingBar() {\n    this.eventBus.dispatch(EVENT.PDF.SHOW_LOADING_BAR);\n  }\n\n  /**\n   * 隐藏进度条\n   */\n  hideLoadingBar() {\n    this.eventBus.dispatch(EVENT.PDF.HIDE_LOADING_BAR);\n  }\n\n  /**\n   * 更新进度条\n   */\n  updateLoadingBar(percent) {\n    this.eventBus.dispatch(EVENT.PDF.UPDATE_LOADING_BAR, percent);\n  }\n\n  /**\n   * 上一页\n   */\n  previousPage() {\n    this.app.pdfViewer.previousPage();\n  }\n\n  /**\n   * 下一页\n   */\n  nextPage() {\n    this.app.pdfViewer.nextPage();\n  }\n\n  /**\n   * 转到第一页\n   */\n  firstPage() {\n    if (this.app.pdfDocument) {\n      this.app.page = 1;\n    }\n  }\n\n  /**\n   * 转到最后一页\n   */\n  lastPage() {\n    if (this.app.pdfDocument) {\n      this.app.page = this.app.pagesCount;\n    }\n  }\n\n  /**\n   * 监听页面滚动产生的页码变化\n   */\n  pageChanging(evt) {\n    const { pageNumber } = evt;\n    this.eventBus.dispatch(EVENT.PDF.SET_PAGE_NUMBER, {\n      pageNumber: pageNumber,\n    });\n    this.app.pdfThumbnailViewer?.scrollThumbnailIntoView(pageNumber);\n  }\n\n  pageNumberChanged(pageNumber) {\n    const pdfViewer = this.app.pdfViewer;\n    // Note that for `<input type=\"number\">` HTML elements, an empty string will\n    // be returned for non-number inputs; hence we simply do nothing in that case.\n    if (pageNumber !== \"\") {\n      this.app.pdfLinkService.goToPage(pageNumber);\n    }\n\n    // Ensure that the page number input displays the correct value, even if the\n    // value entered by the user was invalid (e.g. a floating point number).\n    if (pageNumber !== pdfViewer.currentPageNumber.toString()) {\n      this.pageChanging({ pageNumber: pdfViewer.currentPageNumber });\n    }\n  }\n\n  /**\n   * 将总页数设置给 PageController 组件\n   */\n  setPagesCount(evt) {\n    this.eventBus.dispatch(EVENT.PDF.SET_PAGES_COUNT, {\n      pagesCount: evt.pagesCount,\n    });\n  }\n\n  /**\n   * 打开本地文件\n   */\n  fileInputChange(evt) {\n    const file = evt.fileInput.files[0];\n\n    let url = URL.createObjectURL(file);\n    if (file.name) {\n      url = { url, originalUrl: file.name };\n    }\n\n    this.app.open(url);\n  }\n\n  /**\n   * 初始化完成，打开文档\n   */\n  initialized() {\n    const file = this.app.defaultUrl;\n\n    if (file) {\n      try {\n        this.app.open(file);\n      } catch (reason) {\n        this.app.l10n.get(\"loading_error\").then((msg) => {\n          this.app._documentError(msg, reason);\n        });\n      }\n    }\n  }\n\n  /**\n   * 旋转文档\n   */\n  rotatePage(delta) {\n    if (this.app.pdfDocument) {\n      this.app.pdfViewer.pagesRotation += delta;\n    }\n  }\n\n  /**\n   * 文档展示模式\n   */\n  switchSpreadMode(mode) {\n    if (this.app.pdfDocument) {\n      this.app.pdfViewer.spreadMode = mode;\n    }\n  }\n\n  /**\n   * 文档滚动模式\n   */\n  switchScrollMode(mode) {\n    if (this.app.pdfDocument) {\n      this.app.pdfViewer.scrollMode = mode;\n    }\n  }\n\n  /**\n   * 查询结果\n   */\n  updateFindMatchesCount({ matchesCount }) {\n    this.eventBus.dispatch(EVENT.PDF.FIND_MATCHES_COUNT, matchesCount);\n  }\n\n  /**\n   * 文档加载成功回调\n   */\n  documentLoaded() {\n    this.eventBus.dispatch(EVENT.PDF.DOCUMENT_LOADED);\n    this.subscribeThumbnailView();\n  }\n\n  /**\n   * 订阅缩略图数据\n   */\n  subscribeThumbnailView() {\n    if (this.app.pdfSidebar) {\n      return\n    }\n\n    const { pagesCount, pdfDocument } = this.app;\n    const promises = [];\n    for (let i = 0; i < pagesCount; i++) {\n      promises.push(pdfDocument.getPage(i + 1).then(convertThumb));\n    }\n\n    Promise.all(promises).then((thumbnails) => {\n      console.log(\"thumbnails\", thumbnails);\n      this.eventBus.dispatch(EVENT.PDF.SUBSCRIBE_THUMBNAIL_VIEW, thumbnails);\n    });\n  }\n\n  /**\n   * 缩略图更新\n   */\n  updateThumbnailView({ pageNumber }) {\n    if (this.app.pdfSidebar) {\n      return\n    }\n\n    const query = `[data-page-number=\"${pageNumber}\"]`;\n    const canvas = document.querySelector(query).querySelector('canvas');\n    const thumbnail = canvas.toDataURL();\n    console.log('页面更新', pageNumber)\n    this.eventBus.dispatch(EVENT.PDF.UPDATE_THUMBNAIL_VIEW, thumbnail);\n  }\n\n  /**\n   * 订阅大纲数据\n   */\n  subscribeOutline(outline) {\n    if (this.app.pdfSidebar) {\n      return\n    }\n\n    this.eventBus.dispatch(EVENT.PDF.SUBSCRIBE_OUTLINE, outline);\n  }\n\n  /**\n   * 订阅附件数据\n   */\n  subscribeAttachment(attachments) {\n    if (this.app.pdfSidebar) {\n      return\n    }\n\n    this.eventBus.dispatch(EVENT.PDF.SUBSCRIBE_ATTACHMENT, attachments);\n  }\n\n  /**\n   * 缩略图点击事件\n   */\n  thumbnailViewBindLink(pageNumber) {\n    this.app.pdfLinkService.goToPage(pageNumber);\n  }\n\n  /**\n   * 大纲点击事件\n   */\n  outlineBindLink(dest) {\n    if (!dest) {\n      return;\n    }\n    this.app.pdfLinkService.goToDestination(dest);\n  }\n\n  /**\n   * 附件点击事件\n   */\n  attachmentBindLink({ content, filename }) {\n    const element = document.createElement(\"a\");\n    element.innerHTML = filename;\n    this.app.downloadManager.openOrDownloadData(element, content, filename);\n  }\n}\n\nexport default WebViewer;\n","import {\n  SpreadMode,\n  ScrollMode,\n  CursorTool,\n  SidebarView,\n  DEFAULT_SCALE_VALUE,\n  TextLayerMode,\n  FindState,\n} from \"@cloud-reader/pdf.js-dist/legacy/web/pdf_viewer\";\nimport { PasswordResponses } from \"@cloud-reader/pdf.js-dist/legacy/build/pdf\";\nconst SEARCH_MAP = {\n  0: \"highlightAll\",\n  1: \"caseSensitive\",\n  2: \"matchDiacritics\",\n  3: \"entireWord\",\n};\n\nconst SIDEBAR_VIEW_MAP = [\"预览\", \"大纲\", \"附件\"];\n\nexport {\n  SpreadMode as SPREAD_MODE,\n  ScrollMode as SCROLL_MODE,\n  CursorTool as CURSOR_TOOL,\n  DEFAULT_SCALE_VALUE,\n  SEARCH_MAP,\n  PasswordResponses as PASSWORD_RESPONSES,\n  SidebarView as SIDEBAR_VIEW,\n  SIDEBAR_VIEW_MAP,\n  TextLayerMode as TEXT_LAYER_MODE,\n  FindState as FIND_STATE,\n};\n","import EVENT from \"@/constants/event\";\nimport { PASSWORD_RESPONSES } from \"./constants\";\nconst {\n  COMMON: { PASSWORD },\n} = EVENT;\n\nclass PasswordPrompt {\n  updateCallback = null;\n  reason = null;\n\n  constructor({ eventBus, l10n }) {\n    this.l10n = l10n;\n    this.eventBus = eventBus;\n    this.verify = this.verify.bind(this);\n    this.cancel = this.cancel.bind(this);\n    this.invokeCallback = this.invokeCallback.bind(this);\n\n    this.eventBus.on(PASSWORD.VERIFY, this.verify);\n    this.eventBus.on(PASSWORD.CANCEL, this.cancel);\n  }\n\n  async open() {\n    const passwordIncorrect =\n      this.reason === PASSWORD_RESPONSES.INCORRECT_PASSWORD;\n\n    const message = await this.l10n.get(\n      `password_${passwordIncorrect ? \"invalid\" : \"label\"}`\n    );\n\n    this.eventBus.dispatch(PASSWORD.OPEN, {\n      label: message,\n    });\n  }\n\n  verify({ password, isCancel = false }) {\n    if (password.length) {\n      this.invokeCallback(password);\n      this.isCancel = isCancel;\n    }\n  }\n\n  cancel() {\n    this.invokeCallback(new Error(\"PasswordPrompt cancelled.\"));\n  }\n\n  invokeCallback(password) {\n    if (!this.updateCallback) {\n      return; // Ensure that the callback is only invoked once.\n    }\n    this.updateCallback(password);\n    this.updateCallback = null;\n    this.eventBus.dispatch(PASSWORD.PASSED);\n  }\n\n  setUpdateCallback(updateCallback, reason) {\n    this.updateCallback = updateCallback;\n    this.reason = reason;\n\n    this.isCancel && this.cancel();\n  }\n}\n\nexport default PasswordPrompt;\n","import {\n  RenderingStates,\n  SidebarView,\n} from \"@cloud-reader/pdf.js-dist/legacy/web/pdf_viewer\";\nimport EVENT from \"@/constants/event\";\n\nclass PDFSidebar {\n  constructor({ pdfViewer, pdfThumbnailViewer, eventBus, l10n }) {\n    this.isOpen = false;\n    this.active = SidebarView.THUMBS;\n    this.isInitialViewSet = false;\n    this.isInitialEventDispatched = false;\n\n    this.onToggled = null;\n\n    this.pdfViewer = pdfViewer;\n    this.pdfThumbnailViewer = pdfThumbnailViewer;\n\n    this.eventBus = eventBus;\n    this.l10n = l10n;\n\n    this.addEventListeners();\n  }\n\n  reset() {\n    this.isInitialViewSet = false;\n    this.isInitialEventDispatched = false;\n\n    this.switchView(SidebarView.THUMBS);\n  }\n\n  /**\n   * @type {number} One of the values in {SidebarView}.\n   */\n  get visibleView() {\n    return this.isOpen ? this.active : SidebarView.NONE;\n  }\n\n  /**\n   * @param {number} view - The sidebar view that should become visible,\n   *                        must be one of the values in {SidebarView}.\n   */\n  setInitialView(view = SidebarView.NONE) {\n    if (this.isInitialViewSet) {\n      return;\n    }\n    this.isInitialViewSet = true;\n\n    // If the user has already manually opened the sidebar, immediately closing\n    // it would be bad UX; also ignore the \"unknown\" sidebar view value.\n    if (view === SidebarView.NONE || view === SidebarView.UNKNOWN) {\n      this.dispatchEvent();\n      return;\n    }\n    this.switchView(view, /* forceOpen = */ true);\n\n    // Prevent dispatching two back-to-back \"sidebarviewchanged\" events,\n    // since `this.switchView` dispatched the event if the view changed.\n    if (!this.isInitialEventDispatched) {\n      this.dispatchEvent();\n    }\n  }\n\n  /**\n   * @param {number} view - The sidebar view that should be switched to,\n   *                        must be one of the values in {SidebarView}.\n   * @param {boolean} [forceOpen] - Ensure that the sidebar is open.\n   *                                The default value is `false`.\n   */\n  switchView(view, forceOpen = false) {\n    const isViewChanged = view !== this.active;\n    let shouldForceRendering = false;\n\n    switch (view) {\n      case SidebarView.NONE:\n        if (this.isOpen) {\n          this.close();\n        }\n        return; // Closing will trigger rendering and dispatch the event.\n      case SidebarView.THUMBS:\n        if (this.isOpen && isViewChanged) {\n          shouldForceRendering = true;\n        }\n        break;\n      case SidebarView.OUTLINE:\n        if (this.outlineButton.disabled) {\n          return;\n        }\n        break;\n      case SidebarView.ATTACHMENTS:\n        if (this.attachmentsButton.disabled) {\n          return;\n        }\n        break;\n      case SidebarView.LAYERS:\n        if (this.layersButton.disabled) {\n          return;\n        }\n        break;\n      default:\n        console.error(`PDFSidebar.switchView: \"${view}\" is not a valid view.`);\n        return;\n    }\n    // Update the active view *after* it has been validated above,\n    // in order to prevent setting it to an invalid state.\n    this.active = view;\n\n    if (forceOpen && !this.isOpen) {\n      this.open();\n      return; // Opening will trigger rendering and dispatch the event.\n    }\n\n    if (shouldForceRendering) {\n      this.updateThumbnailViewer();\n      this.forceRendering();\n    }\n    if (isViewChanged) {\n      this.dispatchEvent();\n    }\n  }\n\n  open() {\n    if (this.isOpen) {\n      return;\n    }\n    this.isOpen = true;\n\n    if (this.active === SidebarView.THUMBS) {\n      this.updateThumbnailViewer();\n    }\n    this.forceRendering();\n    this.dispatchEvent();\n  }\n\n  close() {\n    if (!this.isOpen) {\n      return;\n    }\n    this.isOpen = false;\n\n    this.forceRendering();\n    this.dispatchEvent();\n  }\n\n  toggle() {\n    if (this.isOpen) {\n      this.close();\n    } else {\n      this.open();\n    }\n  }\n\n  dispatchEvent() {\n    if (this.isInitialViewSet && !this.isInitialEventDispatched) {\n      this.isInitialEventDispatched = true;\n    }\n\n    this.eventBus.dispatch(EVENT.PDF.SIDEBAR_VIEW_CHANGED, {\n      source: this,\n      view: this.visibleView,\n    });\n  }\n\n  forceRendering() {\n    if (this.onToggled) {\n      this.onToggled();\n    } else {\n      // Fallback\n      this.pdfViewer.forceRendering();\n      this.pdfThumbnailViewer.forceRendering();\n    }\n  }\n\n  updateThumbnailViewer() {\n    const { pdfViewer, pdfThumbnailViewer } = this;\n\n    // Use the rendered pages to set the corresponding thumbnail images.\n    const pagesCount = pdfViewer.pagesCount;\n    for (let pageIndex = 0; pageIndex < pagesCount; pageIndex++) {\n      const pageView = pdfViewer.getPageView(pageIndex);\n      if (pageView?.renderingState === RenderingStates.FINISHED) {\n        const thumbnailView = pdfThumbnailViewer.getThumbnail(pageIndex);\n        thumbnailView.setImage(pageView);\n      }\n    }\n    pdfThumbnailViewer.scrollThumbnailIntoView(pdfViewer.currentPageNumber);\n  }\n\n  addEventListeners() {\n    this.eventBus.on(EVENT.PDF.SIDEBAR.TOGGLE, () => {\n      this.toggle();\n    });\n\n    this.eventBus.on(EVENT.PDF.SIDEBAR.UPDATE_THUMBNAIL_VIEWER, () => {\n      this.updateThumbnailViewer();\n    });\n  }\n}\n\nexport default PDFSidebar;\n","import {\n  createPromiseCapability,\n  getDocument,\n  GlobalWorkerOptions,\n  InvalidPDFException,\n  MissingPDFException,\n  UnexpectedResponseException,\n  version,\n  build,\n} from \"@cloud-reader/pdf.js-dist/legacy/build/pdf\";\nimport {\n  EventBus,\n  PDFLinkService,\n  PDFFindController,\n  NullL10n,\n  PDFViewer,\n  PDFHistory,\n  PDFCursorTools,\n  CursorTool,\n  DEFAULT_SCALE_VALUE,\n  SidebarView,\n  PDFThumbnailViewer,\n  PDFOutlineViewer,\n  PDFAttachmentViewer,\n  DownloadManager,\n  PDFRenderingQueue,\n} from \"@cloud-reader/pdf.js-dist/legacy/web/pdf_viewer\";\nimport pdfjsWorker from \"@cloud-reader/pdf.js-dist/legacy/build/pdf.worker\";\nimport \"@cloud-reader/pdf.js-dist/legacy/web/pdf_viewer.css\";\nimport WebViewer from \"./WebViewer\";\nimport PasswordPrompt from \"./PasswordPrompt.js\";\nimport PDFSidebar from \"./PdfSidebar.js\";\nimport EVENT from \"@/constants/event\";\n\nconst DISABLE_AUTO_FETCH_LOADING_BAR_TIMEOUT = 5000; // ms\nconst ViewOnLoad = {\n  UNKNOWN: -1,\n  PREVIOUS: 0, // Default value.\n  INITIAL: 1,\n};\n\nif (typeof window !== \"undefined\" && \"Worker\" in window) {\n  GlobalWorkerOptions.workerPort = new pdfjsWorker();\n}\n\nconst PDFViewerApplication = {\n  _initializedCapability: createPromiseCapability(),\n  appConfig: null,\n  pdfDocument: null,\n  pdfLoadingTask: null,\n  pdfViewer: null,\n  pdfHistory: null,\n  pdfCursorTools: null,\n  eventBus: new EventBus(),\n  isViewerEmbedded: window.parent !== window,\n  l10n: NullL10n,\n  downloadComplete: false,\n  defaultUrl: \"\",\n  pdfThumbnailViewer: null,\n  pdfSidebar: null,\n  pdfOutlineViewer: null,\n  pdfAttachmentViewer: null,\n\n  // Called once when the document is loaded.\n  async initialize(appConfig) {\n    this.appConfig = appConfig;\n\n    this._initializeViewerComponents();\n\n    // Bind the various event handlers *after* the viewer has been\n    // initialized, to prevent errors if an event arrives too soon.\n    this.bindEvents();\n\n    this._initializedCapability.resolve();\n  },\n\n  /**\n   * @private\n   */\n  _initializeViewerComponents() {\n    const { appConfig } = this;\n\n    const pdfRenderingQueue = new PDFRenderingQueue();\n    pdfRenderingQueue.onIdle = this._cleanup.bind(this);\n    this.pdfRenderingQueue = pdfRenderingQueue;\n\n    const linkService = new PDFLinkService({\n      eventBus: this.eventBus,\n    });\n    this.pdfLinkService = linkService;\n\n    const findController = new PDFFindController({\n      linkService,\n      eventBus: this.eventBus,\n    });\n    this.findController = findController;\n\n    this.passwordPrompt = new PasswordPrompt({\n      eventBus: this.eventBus,\n      l10n: this.l10n,\n    });\n\n    const container = appConfig.mainContainer,\n      viewer = appConfig.viewerContainer;\n\n    const pdfViewer = new PDFViewer({\n      container,\n      viewer,\n      findController,\n      eventBus: this.eventBus,\n      linkService,\n      l10n: this.l10n,\n      textLayerMode: appConfig.textLayerMode,\n    });\n\n    this.pdfViewer = pdfViewer;\n    pdfRenderingQueue.setViewer(pdfViewer);\n    linkService.setViewer(pdfViewer);\n\n    const { thumbnailView, outlineView, attachmentsView } = appConfig;\n    if (thumbnailView) {\n      this.pdfThumbnailViewer = new PDFThumbnailViewer({\n        container: thumbnailView,\n        eventBus: this.eventBus,\n        renderingQueue: pdfRenderingQueue,\n        linkService,\n        l10n: this.l10n,\n      });\n      pdfRenderingQueue.setThumbnailViewer(this.pdfThumbnailViewer);\n    }\n\n    this.pdfHistory = new PDFHistory({\n      eventBus: this.eventBus,\n      linkService,\n    });\n    linkService.setHistory(this.pdfHistory);\n\n    const needSideBar = thumbnailView && outlineView && attachmentsView;\n    if (needSideBar) {\n      this.pdfSidebar = new PDFSidebar({\n        pdfViewer: this.pdfViewer,\n        pdfThumbnailViewer: this.pdfThumbnailViewer,\n        eventBus: this.eventBus,\n        l10n: this.l10n,\n      });\n\n      this.pdfSidebar.onToggled = this.forceRendering.bind(this);\n    }\n\n    if (outlineView) {\n      this.pdfOutlineViewer = new PDFOutlineViewer({\n        container: outlineView,\n        eventBus: this.eventBus,\n        linkService,\n      });\n    }\n\n    this.downloadManager = new DownloadManager();\n    if (attachmentsView) {\n      this.pdfAttachmentViewer = new PDFAttachmentViewer({\n        container: attachmentsView,\n        eventBus: this.eventBus,\n        downloadManager: this.downloadManager,\n      });\n    }\n\n    this.pdfCursorTools = new PDFCursorTools({\n      container,\n      eventBus: this.eventBus,\n      cursorToolOnLoad: CursorTool.SELECT,\n    });\n  },\n\n  /**\n   * @private\n   */\n  _cleanup() {\n    if (!this.pdfDocument) {\n      return; // run cleanup when document is loaded\n    }\n    this.pdfViewer.cleanup();\n    this.pdfThumbnailViewer.cleanup();\n  },\n\n  run(config) {\n    this.initialize(config).then(() => webViewer.initialized());\n  },\n\n  get initialized() {\n    return this._initializedCapability.settled;\n  },\n\n  get initializedPromise() {\n    return this._initializedCapability.promise;\n  },\n\n  /**\n   * 获取文档总页数\n   */\n  get pagesCount() {\n    return this.pdfDocument ? this.pdfDocument.numPages : 0;\n  },\n\n  /**\n   * 放大\n   */\n  zoomIn() {\n    if (this.pdfViewer.isInPresentationMode) {\n      return;\n    }\n    this.pdfViewer.increaseScale();\n  },\n\n  /**\n   * 缩小\n   */\n  zoomOut() {\n    if (this.pdfViewer.isInPresentationMode) {\n      return;\n    }\n    this.pdfViewer.decreaseScale();\n  },\n\n  /**\n   * 获取当前页码\n   */\n  get page() {\n    return this.pdfViewer.currentPageNumber;\n  },\n\n  /**\n   * 设置并跳转到指定页码\n   */\n  set page(pageNumber) {\n    this.pdfViewer.currentPageNumber = pageNumber;\n  },\n\n  /**\n   * 关闭已打开的 PDF 文档\n   * Closes opened PDF document.\n   * @returns {Promise} - Returns the promise, which is resolved when all\n   *                      destruction is completed.\n   */\n  async close() {\n    if (!this.pdfLoadingTask) {\n      return;\n    }\n\n    const promises = [];\n\n    promises.push(this.pdfLoadingTask.destroy());\n    this.pdfLoadingTask = null;\n\n    if (this.pdfDocument) {\n      this.pdfDocument = null;\n\n      this.pdfThumbnailViewer?.setDocument(null);\n      this.pdfViewer.setDocument(null);\n      this.pdfLinkService.setDocument(null);\n    }\n\n    this.pdfHistory?.reset();\n    this.pdfSidebar?.reset();\n    this.pdfOutlineViewer?.reset();\n    this.pdfAttachmentViewer?.reset();\n\n    await Promise.all(promises);\n  },\n\n  /**\n   * 通过 URL 或 ArrayBuffer 打开 PDF 文档\n   * Opens PDF document specified by URL or array with additional arguments.\n   * @param {string|TypedArray|ArrayBuffer} file - PDF location or binary data.\n   * @param {Object} [args] - Additional arguments for the getDocument call,\n   *                          e.g. HTTP headers ('httpHeaders') or alternative\n   *                          data transport ('range').\n   * @returns {Promise} - Returns the promise, which is resolved when document\n   *                      is opened.\n   */\n  async open(file, args) {\n    if (this.pdfLoadingTask) {\n      // We need to destroy already opened document.\n      await this.close();\n    }\n\n    const parameters = Object.create(null);\n    if (typeof file === \"string\") {\n      // URL\n      parameters.url = file;\n    } else if (file && \"byteLength\" in file) {\n      // ArrayBuffer\n      parameters.data = file;\n    } else if (file.url && file.originalUrl) {\n      parameters.url = file.url;\n    }\n\n    // Finally, update the API parameters with the arguments (if they exist).\n    if (args) {\n      for (const key in args) {\n        parameters[key] = args[key];\n      }\n    }\n\n    const loadingTask = getDocument({\n      ...parameters,\n      cMapUrl: \"./cmaps/\",\n      cMapPacked: true,\n      standardFontDataUrl: \"./standard_fonts/\",\n    });\n    this.pdfLoadingTask = loadingTask;\n\n    const { password } = this.appConfig;\n\n    loadingTask.onPassword = (updateCallback, reason) => {\n      this.pdfLinkService.externalLinkEnabled = false;\n      this.passwordPrompt.setUpdateCallback(updateCallback, reason);\n\n      password\n        ? this.passwordPrompt.verify({ password, isCancel: true })\n        : this.passwordPrompt.open();\n\n    };\n\n    loadingTask.onProgress = ({ loaded, total }) => {\n      this.progress(loaded / total);\n    };\n\n    return loadingTask.promise.then(\n      (pdfDocument) => {\n        this.load(pdfDocument);\n      },\n      (reason) => {\n        if (loadingTask !== this.pdfLoadingTask) {\n          return undefined; // Ignore errors for previously opened PDF files.\n        }\n\n        let key = \"loading_error\";\n        if (reason instanceof InvalidPDFException) {\n          key = \"invalid_file_error\";\n        } else if (reason instanceof MissingPDFException) {\n          key = \"missing_file_error\";\n        } else if (reason instanceof UnexpectedResponseException) {\n          key = \"unexpected_response_error\";\n        }\n        return this.l10n.get(key).then((msg) => {\n          this._documentError(msg, { message: reason?.message });\n          throw reason;\n        });\n      }\n    );\n  },\n\n  /**\n   * Show the error box; used for errors affecting loading and/or parsing of\n   * the entire PDF document.\n   */\n  _documentError(message, moreInfo = null) {\n    this._otherError(message, moreInfo);\n\n    this.eventBus.dispatch(EVENT.PDF.DOCUMENT_ERROR, {\n      source: this,\n      message,\n      reason: moreInfo?.message ?? null,\n    });\n  },\n\n  /**\n   * Show the error box; used for errors affecting e.g. only a single page.\n   *\n   * @param {string} message - A message that is human readable.\n   * @param {Object} [moreInfo] - Further information about the error that is\n   *                              more technical.  Should have a 'message' and\n   *                              optionally a 'stack' property.\n   */\n  _otherError(message, moreInfo = null) {\n    const moreInfoText = [\n      this.l10n.get(\"error_version_info\", {\n        version: version || \"?\",\n        build: build || \"?\",\n      }),\n    ];\n    if (moreInfo) {\n      moreInfoText.push(\n        this.l10n.get(\"error_message\", { message: moreInfo.message })\n      );\n      if (moreInfo.stack) {\n        moreInfoText.push(\n          this.l10n.get(\"error_stack\", { stack: moreInfo.stack })\n        );\n      } else {\n        if (moreInfo.filename) {\n          moreInfoText.push(\n            this.l10n.get(\"error_file\", { file: moreInfo.filename })\n          );\n        }\n        if (moreInfo.lineNumber) {\n          moreInfoText.push(\n            this.l10n.get(\"error_line\", { line: moreInfo.lineNumber })\n          );\n        }\n      }\n    }\n\n    Promise.all(moreInfoText).then((parts) => {\n      console.error(message + \"\\n\" + parts.join(\"\\n\"));\n    });\n  },\n\n  progress(level) {\n    if (this.downloadComplete) {\n      // Don't accidentally show the loading bar again when the entire file has\n      // already been fetched (only an issue when disableAutoFetch is enabled).\n      return;\n    }\n    const percent = Math.round(level * 100);\n\n    webViewer.updateLoadingBar(percent);\n\n    if (this.disableAutoFetchLoadingBarTimeout) {\n      clearTimeout(this.disableAutoFetchLoadingBarTimeout);\n      this.disableAutoFetchLoadingBarTimeout = null;\n    }\n    webViewer.showLoadingBar();\n\n    this.disableAutoFetchLoadingBarTimeout = setTimeout(() => {\n      webViewer.hideLoadingBar();\n      this.disableAutoFetchLoadingBarTimeout = null;\n    }, DISABLE_AUTO_FETCH_LOADING_BAR_TIMEOUT);\n  },\n\n  load(pdfDocument) {\n    this.pdfDocument = pdfDocument;\n\n    pdfDocument.getDownloadInfo().then(({ length }) => {\n      this._contentLength = length; // Ensure that the correct length is used.\n      this.downloadComplete = true;\n      webViewer.hideLoadingBar();\n    });\n\n    const openActionPromise = pdfDocument.getOpenAction().catch(function () {\n      /* Avoid breaking initial rendering; ignoring errors. */\n    });\n\n    webViewer.setPagesCount({ pagesCount: pdfDocument.numPages });\n\n    this.pdfLinkService.setDocument(pdfDocument);\n\n    const pdfViewer = this.pdfViewer;\n    pdfViewer.setDocument(pdfDocument);\n\n    const pdfThumbnailViewer = this.pdfThumbnailViewer;\n    pdfThumbnailViewer?.setDocument(pdfDocument);\n\n    const { firstPagePromise, onePageRendered, pagesPromise } = pdfViewer;\n\n    firstPagePromise.then(() => {\n      Promise.all([openActionPromise])\n        .then(async ([openAction]) => {\n          this._initializePdfHistory({\n            fingerprint: pdfDocument.fingerprints[0],\n            viewOnLoad: 0,\n            initialDest: openAction?.dest,\n          });\n\n          this.setInitialView();\n        })\n        .catch(() => {\n          this.setInitialView();\n        })\n\n    });\n\n    onePageRendered.then(() => {\n      pdfDocument.getOutline().then((outline) => {\n        if (pdfDocument !== this.pdfDocument) {\n          return; // The document was closed while the outline resolved.\n        }\n\n        webViewer.subscribeOutline(outline)\n        this.pdfOutlineViewer?.render({ outline, pdfDocument });\n      });\n      pdfDocument.getAttachments().then((attachments) => {\n        if (pdfDocument !== this.pdfDocument) {\n          return; // The document was closed while the attachments resolved.\n        }\n        webViewer.subscribeAttachment(attachments)\n        this.pdfAttachmentViewer?.render({ attachments });\n      });\n    });\n\n    pagesPromise.then(() => {\n      webViewer.documentLoaded();\n    });\n\n    this.pdfHistory.initialize({\n      fingerprint: pdfDocument.fingerprints[0],\n    });\n  },\n\n  /**\n   * @private\n   */\n  _initializePdfHistory({ fingerprint, viewOnLoad, initialDest = null }) {\n    if (!this.pdfHistory) {\n      return;\n    }\n    this.pdfHistory.initialize({\n      fingerprint,\n      resetHistory: viewOnLoad === ViewOnLoad.INITIAL,\n      updateUrl: false,\n    });\n\n    if (this.pdfHistory.initialBookmark) {\n      this.initialBookmark = this.pdfHistory.initialBookmark;\n\n      this.initialRotation = this.pdfHistory.initialRotation;\n    }\n\n    // Always let the browser history/document hash take precedence.\n    if (\n      initialDest &&\n      !this.initialBookmark &&\n      viewOnLoad === ViewOnLoad.UNKNOWN\n    ) {\n      this.initialBookmark = JSON.stringify(initialDest);\n      // TODO: Re-factor the `PDFHistory` initialization to remove this hack\n      // that's currently necessary to prevent weird initial history state.\n      this.pdfHistory.push({ explicitDest: initialDest, pageNumber: null });\n    }\n  },\n\n  setInitialView() {\n    if (!this.pdfViewer.currentScaleValue) {\n      // Scale was not initialized: invalid bookmark or scale was not specified.\n      // Setting the default one.\n      this.pdfViewer.currentScaleValue = DEFAULT_SCALE_VALUE;\n    }\n  },\n\n  forceRendering() {\n    this.pdfRenderingQueue.printing = false;\n    this.pdfRenderingQueue.isThumbnailViewEnabled =\n      this.pdfSidebar.visibleView === SidebarView.THUMBS;\n\n    this.pdfRenderingQueue.renderHighestPriority();\n  },\n\n  bindEvents() {\n    const { eventBus } = this;\n    const {\n      FIRST_PAGE,\n      LAST_PAGE,\n      NEXT_PAGE,\n      ZOOM_IN,\n      PREVIOUS_PAGE,\n      ZOOM_OUT,\n      PAGE_NUMBER_CHANGED,\n      PAGE_CHANGING,\n      SCALE_CHANGED,\n      SCALE_CHANGING,\n      ROTATE_CHANGING,\n      SWITCH_SCROLL_MODE,\n      SWITCH_SPREAD_MODE,\n      FILE_INPUT_CHANGE,\n      UPDATE_FIND_MATCHES_COUNT,\n      OUTLINE_BIND_LINK,\n      ATTACHMENT_BIND_LINK,\n      THUMBNAIL_VIEW_BIND_LINK,\n      PAGE_RENDERED,\n    } = EVENT.PDF;\n\n    eventBus._on(FIRST_PAGE, (e) => webViewer.firstPage(e));\n    eventBus._on(LAST_PAGE, (e) => webViewer.lastPage(e));\n    eventBus._on(NEXT_PAGE, (e) => webViewer.nextPage(e));\n    eventBus._on(PREVIOUS_PAGE, (e) => webViewer.previousPage(e));\n    eventBus._on(ZOOM_IN, (e) => webViewer.zoomIn(e));\n    eventBus._on(ZOOM_OUT, (e) => webViewer.zoomOut(e));\n    eventBus._on(PAGE_NUMBER_CHANGED, (e) => webViewer.pageNumberChanged(e));\n    eventBus._on(SCALE_CHANGED, (e) => webViewer.scaleChanged(e));\n    eventBus._on(PAGE_CHANGING, (e) => webViewer.pageChanging(e));\n    eventBus._on(SCALE_CHANGING, (e) => webViewer.scaleChanging(e));\n    eventBus._on(ROTATE_CHANGING, (e) => webViewer.rotatePage(e));\n    eventBus._on(SWITCH_SCROLL_MODE, (e) => webViewer.switchScrollMode(e));\n    eventBus._on(SWITCH_SPREAD_MODE, (e) => webViewer.switchSpreadMode(e));\n    eventBus._on(FILE_INPUT_CHANGE, (e) => webViewer.fileInputChange(e));\n    eventBus._on(UPDATE_FIND_MATCHES_COUNT, (e) =>\n      webViewer.updateFindMatchesCount(e)\n    );\n    eventBus._on(OUTLINE_BIND_LINK, (e) =>\n      webViewer.outlineBindLink(e)\n    );\n    eventBus._on(ATTACHMENT_BIND_LINK, (e) =>\n      webViewer.attachmentBindLink(e)\n    );\n    eventBus._on(THUMBNAIL_VIEW_BIND_LINK, (e) =>\n      webViewer.thumbnailViewBindLink(e)\n    );\n    eventBus._on(PAGE_RENDERED, (e) =>\n      webViewer.updateThumbnailView(e)\n    );\n  },\n};\n\nconst webViewer = new WebViewer(PDFViewerApplication);\nwindow.PDFViewerApplication = PDFViewerApplication;\n\nexport default PDFViewerApplication;\n","import PdfViewer from \"./PdfViewer.vue\";\nimport PDFViewerApplication from \"./app\";\nimport EVENT from \"@/constants/event\";\n\nimport {\n  SPREAD_MODE,\n  CURSOR_TOOL,\n  SEARCH_MAP,\n  SCROLL_MODE,\n  DEFAULT_SCALE_VALUE,\n  TEXT_LAYER_MODE,\n  FIND_STATE,\n} from \"./constants\";\n\nPdfViewer.install = (Vue) => {\n  Vue.component(\"PdfViewer\", PdfViewer);\n  Vue.prototype.$PDFViewerApplication = PDFViewerApplication;\n};\n\nconst { PDF } = EVENT;\n\nexport {\n  PDF,\n  SPREAD_MODE,\n  CURSOR_TOOL,\n  SEARCH_MAP,\n  SCROLL_MODE,\n  DEFAULT_SCALE_VALUE,\n  TEXT_LAYER_MODE,\n  FIND_STATE,\n};\nexport default PdfViewer;\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_vm._v(\"OFDViewer\")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>OFDViewer</div>\n</template>\n\n<script>\nimport Vue from \"vue\";\n\nexport default Vue.extend({});\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OfdViewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OfdViewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OfdViewer.vue?vue&type=template&id=486e649e&scoped=true&\"\nimport script from \"./OfdViewer.vue?vue&type=script&lang=js&\"\nexport * from \"./OfdViewer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"486e649e\",\n  null\n  \n)\n\nexport default component.exports","import OfdViewer from \"./OfdViewer.vue\";\n\nOfdViewer.install = (Vue) => {\n  Vue.component(\"OfdViewer\", OfdViewer);\n};\n\nexport default OfdViewer;\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_vm._v(\"ImageViewer\")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>ImageViewer</div>\n</template>\n\n<script>\nimport Vue from \"vue\";\n\nexport default Vue.extend({});\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageViewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageViewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImageViewer.vue?vue&type=template&id=bdf8a9b0&scoped=true&\"\nimport script from \"./ImageViewer.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageViewer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bdf8a9b0\",\n  null\n  \n)\n\nexport default component.exports","import ImageViewer from \"./ImageViewer.vue\";\n\nImageViewer.install = (Vue) => {\n  Vue.component(\"ImageViewer\", ImageViewer);\n};\n\nexport default ImageViewer;\n","import PdfViewer, {\n  SPREAD_MODE,\n  CURSOR_TOOL,\n  SEARCH_MAP,\n  SCROLL_MODE,\n  DEFAULT_SCALE_VALUE,\n  TEXT_LAYER_MODE,\n  FIND_STATE,\n} from \"./PdfViewer\";\nimport OfdViewer from \"./OfdViewer\";\nimport ImageViewer from \"./ImageViewer\";\nimport EVENT from \"@/constants/event\";\n\nconst components = [PdfViewer, OfdViewer, ImageViewer];\n\nconst install = (Vue) => {\n  components.forEach((component) => {\n    Vue.use(component);\n  });\n};\n\nexport {\n  EVENT,\n  SPREAD_MODE,\n  CURSOR_TOOL,\n  SEARCH_MAP,\n  SCROLL_MODE,\n  DEFAULT_SCALE_VALUE,\n  TEXT_LAYER_MODE,\n  FIND_STATE,\n};\nexport default {\n  install,\n};\n","<template>\n  <v-menu\n    offset-y\n    :close-on-click=\"false\"\n    :close-on-content-click=\"false\"\n    allow-overflow\n  >\n    <template v-slot:activator=\"{ on, attrs }\">\n      <v-btn id=\"viewFind\" icon v-bind=\"attrs\" v-on=\"on\">\n        <v-icon>mdi-magnify</v-icon>\n      </v-btn>\n    </template>\n    <v-card>\n      <v-container>\n        <v-row\n          justify=\"space-around\"\n          align=\"center\"\n          class=\"findbarInputContainer\"\n          id=\"findbarInputContainer\"\n        >\n          <v-text-field\n            id=\"findInput\"\n            placeholder=\"在文档中查找...\"\n            v-model=\"query\"\n            :counter=\"counter\"\n            :counter-value=\"(_) => this.current\"\n          />\n          <v-btn icon @click=\"dispatch('again', true)\">\n            <v-icon>mdi-arrow-up</v-icon>\n          </v-btn>\n          <v-btn icon @click=\"dispatch('again')\">\n            <v-icon>mdi-arrow-down</v-icon>\n          </v-btn>\n        </v-row>\n        <v-row justify=\"space-around\" align=\"center\">\n          <v-btn-toggle v-model=\"toggle_multiple\" tile group multiple>\n            <v-btn text small @click=\"updateType('highlightallchange')\">\n              全部高亮\n            </v-btn>\n            <v-btn text small @click=\"updateType('casesensitivitychange')\">\n              区分大小写\n            </v-btn>\n            <v-btn text small @click=\"updateType('diacriticmatchingchange')\">\n              匹配变音符号\n            </v-btn>\n            <v-btn text small @click=\"updateType('entirewordchange')\">\n              字词匹配\n            </v-btn>\n          </v-btn-toggle>\n        </v-row>\n      </v-container>\n    </v-card>\n  </v-menu>\n</template>\n\n<script type=\"ts\">\nimport Vue from \"vue\";\nimport { EVENT, SEARCH_MAP, FIND_STATE } from \"@/components/doc\";\n\nexport default Vue.extend({\n  name: \"PdfFindBar\",\n\n  data: () => ({\n    toggle_multiple: [],\n    query: \"\",\n    type: \"find\",\n    current: 0,\n    total: 0,\n  }),\n\n  computed: {\n    counter() {\n      return this.total ? this.total : false;\n    },\n  },\n\n  watch: {\n    toggle_multiple() {\n      this.dispatch(this.type);\n    },\n    query(val) {\n      this.dispatch(\"\");\n      if (val == \"\") {\n        this.current = 0;\n        this.total = 0;\n      }\n    },\n  },\n\n  methods: {\n    dispatch(type, findPrevious = false) {\n      const { query } = this;\n      const { entireWord, highlightAll, caseSensitive, matchDiacritics } =\n        this.getSearchParams();\n\n        console.log('11',{\n        source: this,\n        type, //\n        query, // 查找内容\n        phraseSearch: true, // 短句查询  一直为true\n        entireWord,  // 字词匹配\n        highlightAll, //  全部高亮\n        findPrevious, //  是否查找上一项\n        caseSensitive, //  区分大小写\n        matchDiacritics, // 匹配变音符号\n      })\n      this.$PDFViewerApplication.eventBus.dispatch(\"find\", {\n        source: this,\n        type, // 行为模式 findBar的行为都是内部记录的 基于上次的行为进行下一次\n        query, // 查找内容\n        phraseSearch: true, // 短句查询  一直为true\n        entireWord,  // 字词匹配\n        highlightAll, //  全部高亮\n        findPrevious, //  是否查找上一项\n        caseSensitive, //  区分大小写\n        matchDiacritics, // 匹配变音符号\n      });\n    },\n\n    getSearchParams() {\n      let params = {\n        entireWord: false,\n        highlightAll: false,\n        caseSensitive: false,\n        matchDiacritics: false,\n      };\n\n      Object.keys(SEARCH_MAP).map((i) => {\n        const index = Number(i);\n        if (this.toggle_multiple.includes(index)) {\n          const key = SEARCH_MAP[i];\n          params[key] = true;\n        }\n      });\n\n      return params;\n    },\n\n    updateType(type) {\n      this.type = type;\n    },\n  },\n\n  mounted() {\n    const { eventBus } = this.$PDFViewerApplication;\n    eventBus.on(EVENT.PDF.FIND_MATCHES_COUNT, ({ current, total }) => {\n      this.current = current;\n      this.total = total;\n    });\n\n    eventBus.on(EVENT.PDF.UPDATE_FIND_CONTROL_STATE, ({ state }) => {\n      if (state == 1) { // FIND_STATE.NOT_FOUND\n        this.result = `找不到指定词语`;\n      }\n    });\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.findbarInputContainer {\n  padding: 0 12px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PdfFindBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PdfFindBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PdfFindBar.vue?vue&type=template&id=c787962a&scoped=true&\"\nimport script from \"./PdfFindBar.vue?vue&type=script&lang=js&\"\nexport * from \"./PdfFindBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PdfFindBar.vue?vue&type=style&index=0&id=c787962a&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c787962a\",\n  null\n  \n)\n\nexport default component.exports","import PdfFindBar from \"./PdfFindBar.vue\";\n\nPdfFindBar.install = function (Vue) {\n  Vue.component(PdfFindBar.name, PdfFindBar);\n};\n\nexport default PdfFindBar;\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('v-toolbar',{attrs:{\"light\":\"\",\"dense\":\"\"}},[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.action))])],1),_c('v-divider'),_c('v-tabs',{attrs:{\"vertical\":\"\",\"active-class\":\"active-btn\"},on:{\"change\":_vm.switchView}},[_c('v-tooltip',{attrs:{\"right\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ attrs }){return [_c('v-tab',{staticClass:\"min-tabs\",attrs:{\"id\":\"viewThumbnail\"}},[_c('v-icon',_vm._b({on:{\"click\":function($event){return _vm.switchView(_vm.SIDEBAR_VIEW.THUMBS)}}},'v-icon',attrs,false),[_vm._v(\" mdi-eye-outline \")])],1)]}}])},[_c('span',[_vm._v(\"预览\")])]),_c('v-tooltip',{attrs:{\"right\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ attrs }){return [_c('v-tab',{staticClass:\"min-tabs\",attrs:{\"id\":\"viewOutline\"}},[_c('v-icon',_vm._b({on:{\"click\":function($event){return _vm.switchView(_vm.SIDEBAR_VIEW.OUTLINE)}}},'v-icon',attrs,false),[_vm._v(\" mdi-list-box-outline \")])],1)]}}])},[_c('span',[_vm._v(\"大纲\")])]),_c('v-tooltip',{attrs:{\"right\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ attrs }){return [_c('v-tab',{staticClass:\"min-tabs\",attrs:{\"id\":\"viewAttachments\"}},[_c('v-icon',_vm._b({on:{\"click\":function($event){return _vm.switchView(_vm.SIDEBAR_VIEW.ATTACHMENTS)}}},'v-icon',attrs,false),[_vm._v(\" mdi-attachment \")])],1)]}}])},[_c('span',[_vm._v(\"附件\")])]),_c('v-tab-item',{attrs:{\"eager\":true}},[_c('v-card',{staticStyle:{\"positon\":\"relative\"},attrs:{\"flat\":\"\"}},[_c('v-card-text',{staticClass:\"overflow-y-auto\",attrs:{\"id\":\"thumbnailView\"}})],1)],1),_c('v-tab-item',{attrs:{\"eager\":true}},[_c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-card-text',{staticClass:\"overflow-y-auto\",attrs:{\"id\":\"outlineView\"}})],1)],1),_c('v-tab-item',{attrs:{\"eager\":true}},[_c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-card-text',{staticClass:\"overflow-y-auto\",attrs:{\"id\":\"attachmentsView\"}})],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { SIDEBAR_VIEW, SIDEBAR_VIEW_MAP } from \"../../doc/PdfViewer/constants\";\nimport EVENT from \"@/constants/event\";\n\nexport default Vue.extend({\n  name: \"PdfSidebar\",\n\n  props: {},\n\n  data: () => ({\n    action: \"预览\",\n    SIDEBAR_VIEW: SIDEBAR_VIEW,\n    active: SIDEBAR_VIEW.THUMBS,\n    viewOutline: document.getElementById(\"viewOutline\"),\n    viewThumbnail: document.getElementById(\"viewThumbnail\"),\n    viewAttachments: document.getElementById(\"viewAttachments\"),\n  }),\n\n  methods: {\n    switchView(view: number) {\n      this.action = SIDEBAR_VIEW_MAP[view];\n    },\n    onTreeLoaded(view: number) {\n      if (this.active === view) {\n        this.switchView(SIDEBAR_VIEW.THUMBS);\n      }\n    },\n    outlineloaded() {\n      this.onTreeLoaded(SIDEBAR_VIEW.OUTLINE);\n    },\n    attachmentsloaded() {\n      this.onTreeLoaded(SIDEBAR_VIEW.ATTACHMENTS);\n    },\n    mounted() {\n      const { eventBus } = this.$PDFViewerApplication;\n\n      eventBus.on(EVENT.PDF.OUTLINE_LOADED, this.outlineloaded);\n      eventBus.on(EVENT.PDF.ATTACHMENTS_LOADED, this.attachmentsloaded);\n    },\n    destroyed() {\n      const { eventBus } = this.$PDFViewerApplication;\n\n      eventBus.off(EVENT.PDF.OUTLINE_LOADED, this.outlineloaded);\n      eventBus.off(EVENT.PDF.ATTACHMENTS_LOADED, this.attachmentsloaded);\n    },\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PdfSidebar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PdfSidebar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PdfSidebar.vue?vue&type=template&id=e3b84b30&scoped=true&\"\nimport script from \"./PdfSidebar.vue?vue&type=script&lang=ts&\"\nexport * from \"./PdfSidebar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PdfSidebar.vue?vue&type=style&index=0&id=e3b84b30&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e3b84b30\",\n  null\n  \n)\n\nexport default component.exports","import PdfSidebar from \"./PdfSidebar.vue\";\n\nPdfSidebar.install = function (Vue) {\n  Vue.component(PdfSidebar.name, PdfSidebar);\n};\n\nexport default PdfSidebar;\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"d-flex justify-center align-center mr-2\"},[_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.$vuetify.breakpoint.mobile),expression:\"!$vuetify.breakpoint.mobile\"}],attrs:{\"icon\":\"\",\"disabled\":_vm.pageNumber <= 1},on:{\"click\":_vm.previousPage}},[_c('v-icon',[_vm._v(\"mdi-chevron-left\")])],1),_c('v-text-field',{staticClass:\"pageNumber\",attrs:{\"hide-details\":\"\",\"id\":\"pageNumber\"},on:{\"change\":_vm.pageNumberChanged},model:{value:(_vm.pageNumber),callback:function ($$v) {_vm.pageNumber=$$v},expression:\"pageNumber\"}}),_c('v-icon',[_vm._v(\"mdi-slash-forward\")]),_c('span',[_vm._v(_vm._s(_vm.pagesCount))]),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.$vuetify.breakpoint.mobile),expression:\"!$vuetify.breakpoint.mobile\"}],attrs:{\"icon\":\"\",\"disabled\":_vm.pageNumber >= _vm.pagesCount},on:{\"click\":_vm.nextPage}},[_c('v-icon',[_vm._v(\"mdi-chevron-right\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport EVENT from \"@/constants/event\";\n\nexport default Vue.extend({\n  name: \"PageController\",\n\n  data: () => ({\n    pageNumber: 1,\n    oldPageNumber: 1,\n    pagesCount: 0,\n  }),\n\n  created() {\n    const { eventBus } = this.$PDFViewerApplication;\n    eventBus.on(EVENT.PDF.SET_PAGE_NUMBER, this.setPageNumber);\n    eventBus.on(EVENT.PDF.SET_PAGES_COUNT, this.setPagesCount);\n  },\n\n  destroyed() {\n    const { eventBus } = this.$PDFViewerApplication;\n    eventBus.off(EVENT.PDF.SET_PAGE_NUMBER, this.setPageNumber);\n    eventBus.off(EVENT.PDF.SET_PAGES_COUNT, this.setPagesCount);\n  },\n\n  methods: {\n    /**\n     * 设置总页数\n     */\n    setPagesCount(evt: { pagesCount: number }) {\n      this.pagesCount = evt.pagesCount;\n    },\n\n    /**\n     * 监听页面滚动产生的页码变化\n     */\n    setPageNumber(evt: { pageNumber: number }) {\n      if (evt.pageNumber <= this.pagesCount) {\n        this.pageNumber = evt.pageNumber;\n        this.oldPageNumber = evt.pageNumber;\n      }\n    },\n\n    /**\n     * 输入页码\n     */\n    pageNumberChanged(pageNumber: number) {\n      const { eventBus } = this.$PDFViewerApplication;\n\n      // 判断页码是否可用的\n      if (\n        !/^[0-9]{1,20}$/.exec(pageNumber + \"\") ||\n        pageNumber > this.pagesCount\n      ) {\n        // 页码不可用\n        this.pageNumber = this.oldPageNumber;\n      } else {\n        this.pageNumber = pageNumber;\n        this.oldPageNumber = pageNumber;\n\n        eventBus.dispatch(EVENT.PDF.PAGE_NUMBER_CHANGED, pageNumber);\n      }\n    },\n\n    /**\n     * 上一页\n     */\n    previousPage() {\n      const { eventBus } = this.$PDFViewerApplication;\n      eventBus.dispatch(EVENT.PDF.PREVIOUS_PAGE);\n    },\n\n    /**\n     * 下一页\n     */\n    nextPage() {\n      const { eventBus } = this.$PDFViewerApplication;\n      eventBus.dispatch(EVENT.PDF.NEXT_PAGE);\n    },\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageController.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageController.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PageController.vue?vue&type=template&id=1ba87a9b&scoped=true&\"\nimport script from \"./PageController.vue?vue&type=script&lang=ts&\"\nexport * from \"./PageController.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PageController.vue?vue&type=style&index=0&id=1ba87a9b&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1ba87a9b\",\n  null\n  \n)\n\nexport default component.exports","import PageController from \"./PageController.vue\";\n\nPageController.install = function (Vue) {\n  Vue.component(PageController.name, PageController);\n};\n\nexport default PageController;\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-dots-vertical\")])],1)]}}])},[_c('v-list',{staticClass:\"pt-1 pb-0\"},[_c('v-list-item-group',[_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.firstPage}},[_c('v-list-item-icon',{staticClass:\"mr-1\"},[_c('v-icon',{staticClass:\"text-h6\"},[_vm._v(\"mdi-format-vertical-align-top\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"转到第一页\")])],1)],1),_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.lastPage}},[_c('v-list-item-icon',{staticClass:\"mr-1\"},[_c('v-icon',{staticClass:\"text-h6\"},[_vm._v(\"mdi-format-vertical-align-bottom\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"转到最后一页\")])],1)],1)],1),_c('v-divider'),_c('RotateController',{attrs:{\"placement\":\"secondaryToolbar\"}}),_c('v-divider'),_c('PdfCursorTools'),_c('v-divider'),_c('PdfScrollMode'),_c('v-divider'),_c('PdfSpreadMode'),_c('v-divider'),_c('v-list-item-group',[_c('v-list-item',{attrs:{\"dense\":\"\"}},[_c('v-list-item-icon',{staticClass:\"mr-1\"},[_c('v-icon',{staticClass:\"text-h6\"},[_vm._v(\"mdi-information-outline\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"文档属性\")])],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_vm.placement === 'toolbar')?_c('div',[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"id\":\"pageRotateCw\"},on:{\"click\":_vm.handleRotateCw}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-file-rotate-right-outline\")])],1)]}}],null,false,3735609104)},[_c('span',[_vm._v(\"顺时针旋转\")])]),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"id\":\"pageRotateCcw\"},on:{\"click\":_vm.handleRotateCcw}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-file-rotate-left-outline\")])],1)]}}],null,false,4147743627)},[_c('span',[_vm._v(\"逆时针旋转\")])])],1):_c('v-list-item-group',[_c('v-list-item',{attrs:{\"dense\":\"\"}},[_c('v-list-item-icon',{staticClass:\"mr-1\"},[_c('v-icon',[_vm._v(\"mdi-file-rotate-right-outline\")])],1),_c('v-list-item-content',{on:{\"click\":_vm.handleRotateCw}},[_c('v-list-item-title',[_vm._v(\"顺时针旋转\")])],1)],1),_c('v-list-item',{attrs:{\"dense\":\"\"}},[_c('v-list-item-icon',{staticClass:\"mr-1\"},[_c('v-icon',[_vm._v(\"mdi-file-rotate-left-outline\")])],1),_c('v-list-item-content',{on:{\"click\":_vm.handleRotateCcw}},[_c('v-list-item-title',[_vm._v(\"逆时针旋转\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport EVENT from \"@/constants/event\";\n\nexport default Vue.extend({\n  name: \"RotateController\",\n\n  props: {\n    /**\n     * 放置位置：toolbar | secondaryToolbar\n     */\n    placement: {\n      type: String,\n      default: \"toolbar\",\n    },\n  },\n\n  methods: {\n    /**\n     * 逆时针旋转\n     */\n    handleRotateCcw() {\n      const { eventBus } = this.$PDFViewerApplication;\n      eventBus.dispatch(EVENT.PDF.ROTATE_CHANGING, -90);\n    },\n\n    /**\n     * 顺时针旋转\n     */\n    handleRotateCw() {\n      const { eventBus } = this.$PDFViewerApplication;\n      eventBus.dispatch(EVENT.PDF.ROTATE_CHANGING, 90);\n    },\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RotateController.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RotateController.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RotateController.vue?vue&type=template&id=d6c83416&\"\nimport script from \"./RotateController.vue?vue&type=script&lang=ts&\"\nexport * from \"./RotateController.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import RotateController from \"./RotateController.vue\";\n\nRotateController.install = function (Vue) {\n  Vue.component(RotateController.name, RotateController);\n};\n\nexport default RotateController;\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-list-item-group',[_c('v-list-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.$vuetify.breakpoint.mobile),expression:\"!$vuetify.breakpoint.mobile\"}],attrs:{\"dense\":\"\",\"id\":\"cursorSelectTool\"},on:{\"click\":_vm.cursorSelectTool}},[_c('v-list-item-icon',{staticClass:\"mr-1\"},[_c('v-icon',{staticClass:\"text-h6\"},[_vm._v(\"mdi-cursor-default-outline\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"文本选择工具\")])],1)],1),_c('v-list-item',{attrs:{\"dense\":\"\",\"id\":\"cursorHandTool\"},on:{\"click\":_vm.cursorHandTool}},[_c('v-list-item-icon',{staticClass:\"mr-1\"},[_c('v-icon',{staticClass:\"text-h6\"},[_vm._v(\"mdi-hand-back-left-outline\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"手型工具\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { CURSOR_TOOL } from \"@/components/doc\";\n\nexport default Vue.extend({\n  name: \"PdfCursorTools\",\n\n  methods: {\n    /**\n     * 文本选择工具\n     */\n    cursorSelectTool() {\n      const { pdfCursorTools } = this.$PDFViewerApplication;\n      pdfCursorTools.switchTool(CURSOR_TOOL.SELECT);\n    },\n\n    /**\n     * 手型工具\n     */\n    cursorHandTool() {\n      const { pdfCursorTools } = this.$PDFViewerApplication;\n      pdfCursorTools.switchTool(CURSOR_TOOL.HAND);\n    },\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PdfCursorTools.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PdfCursorTools.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PdfCursorTools.vue?vue&type=template&id=f0cf7e60&\"\nimport script from \"./PdfCursorTools.vue?vue&type=script&lang=ts&\"\nexport * from \"./PdfCursorTools.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import PdfCursorTools from \"./PdfCursorTools.vue\";\n\nPdfCursorTools.install = function (Vue) {\n  Vue.component(PdfCursorTools.name, PdfCursorTools);\n};\n\nexport default PdfCursorTools;\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-list-item-group',[_c('v-list-item',{attrs:{\"dense\":\"\"}},[_c('v-list-item-icon',{staticClass:\"mr-1\"},[_c('v-icon',{staticClass:\"text-h6\"},[_vm._v(\"mdi-cursor-default-outline\")])],1),_c('v-list-item-content',{on:{\"click\":function($event){return _vm.switchScrollMode(_vm.SCROLL_MODE.PAGE)}}},[_c('v-list-item-title',[_vm._v(\"页面滚动\")])],1)],1),_c('v-list-item',{attrs:{\"dense\":\"\"}},[_c('v-list-item-icon',{staticClass:\"mr-1\"},[_c('v-icon',{staticClass:\"text-h6\"},[_vm._v(\"mdi-arrow-vertical-lock\")])],1),_c('v-list-item-content',{on:{\"click\":function($event){return _vm.switchScrollMode(_vm.SCROLL_MODE.VERTICAL)}}},[_c('v-list-item-title',[_vm._v(\"垂直滚动\")])],1)],1),_c('v-list-item',{attrs:{\"dense\":\"\"}},[_c('v-list-item-icon',{staticClass:\"mr-1\"},[_c('v-icon',{staticClass:\"text-h6\"},[_vm._v(\"mdi-arrow-horizontal-lock\")])],1),_c('v-list-item-content',{on:{\"click\":function($event){return _vm.switchScrollMode(_vm.SCROLL_MODE.HORIZONTAL)}}},[_c('v-list-item-title',[_vm._v(\"水平滚动\")])],1)],1),_c('v-list-item',{attrs:{\"dense\":\"\"}},[_c('v-list-item-icon',{staticClass:\"mr-1\"},[_c('v-icon',{staticClass:\"text-h6\"},[_vm._v(\"mdi-hand-back-left-outline\")])],1),_c('v-list-item-content',{on:{\"click\":function($event){return _vm.switchScrollMode(_vm.SCROLL_MODE.WRAPPED)}}},[_c('v-list-item-title',[_vm._v(\"平铺滚动\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { EVENT, SCROLL_MODE } from \"@/components/doc\";\n\nexport default Vue.extend({\n  name: \"PdfScrollMode\",\n\n  data: () => ({\n    SCROLL_MODE,\n  }),\n\n  methods: {\n    /**\n     * 文档滚动模式\n     */\n    switchScrollMode(scrollMode: number) {\n      const { eventBus } = this.$PDFViewerApplication;\n      eventBus.dispatch(EVENT.PDF.SWITCH_SCROLL_MODE, scrollMode);\n    },\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PdfScrollMode.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PdfScrollMode.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PdfScrollMode.vue?vue&type=template&id=5885b1ac&\"\nimport script from \"./PdfScrollMode.vue?vue&type=script&lang=ts&\"\nexport * from \"./PdfScrollMode.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import PdfScrollMode from \"./PdfScrollMode.vue\";\n\nPdfScrollMode.install = function (Vue) {\n  Vue.component(PdfScrollMode.name, PdfScrollMode);\n};\n\nexport default PdfScrollMode;\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-list-item-group',[_c('v-list-item',{attrs:{\"dense\":\"\"}},[_c('v-list-item-icon',{staticClass:\"mr-1\"},[_c('v-icon',{staticClass:\"text-h6\"},[_vm._v(\"mdi-hand-back-left-outline\")])],1),_c('v-list-item-content',{on:{\"click\":function($event){return _vm.switchSpreadMode(_vm.SPREAD_MODE.NONE)}}},[_c('v-list-item-title',[_vm._v(\"单页视图\")])],1)],1),_c('v-list-item',{attrs:{\"dense\":\"\"}},[_c('v-list-item-icon',{staticClass:\"mr-1\"},[_c('v-icon',{staticClass:\"text-h6\"},[_vm._v(\"mdi-cursor-default-outline\")])],1),_c('v-list-item-content',{on:{\"click\":function($event){return _vm.switchSpreadMode(_vm.SPREAD_MODE.ODD)}}},[_c('v-list-item-title',[_vm._v(\"双页视图\")])],1)],1),_c('v-list-item',{attrs:{\"dense\":\"\"}},[_c('v-list-item-icon',{staticClass:\"mr-1\"},[_c('v-icon',{staticClass:\"text-h6\"},[_vm._v(\"mdi-book-open-page-variant-outline\")])],1),_c('v-list-item-content',{on:{\"click\":function($event){return _vm.switchSpreadMode(_vm.SPREAD_MODE.EVEN)}}},[_c('v-list-item-title',[_vm._v(\"书籍视图\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { EVENT, SPREAD_MODE } from \"@/components/doc\";\n\nexport default Vue.extend({\n  name: \"PdfScrollMode\",\n\n  data: () => ({\n    SPREAD_MODE,\n  }),\n\n  methods: {\n    /**\n     * 文档展示模式\n     */\n    switchSpreadMode(spreadMode: number) {\n      const { eventBus } = this.$PDFViewerApplication;\n      eventBus.dispatch(EVENT.PDF.SWITCH_SPREAD_MODE, spreadMode);\n    },\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PdfSpreadMode.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PdfSpreadMode.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PdfSpreadMode.vue?vue&type=template&id=204fbeda&\"\nimport script from \"./PdfSpreadMode.vue?vue&type=script&lang=ts&\"\nexport * from \"./PdfSpreadMode.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import PdfSpreadMode from \"./PdfSpreadMode.vue\";\n\nPdfSpreadMode.install = function (Vue) {\n  Vue.component(PdfSpreadMode.name, PdfSpreadMode);\n};\n\nexport default PdfSpreadMode;\n","\nimport Vue from \"vue\";\nimport RotateController from \"@/components/base/RotateController\";\nimport PdfCursorTools from \"@/components/base/PdfCursorTools\";\nimport PdfScrollMode from \"@/components/base/PdfScrollMode\";\nimport PdfSpreadMode from \"@/components/base/PdfSpreadMode\";\nimport EVENT from \"@/constants/event\";\n\nexport default Vue.extend({\n  name: \"SecondaryToolbar\",\n\n  components: {\n    RotateController,\n    PdfCursorTools,\n    PdfScrollMode,\n    PdfSpreadMode,\n  },\n\n  methods: {\n    /**\n     * 转到第一页\n     */\n    firstPage() {\n      const { eventBus } = this.$PDFViewerApplication;\n      eventBus.dispatch(EVENT.PDF.FIRST_PAGE);\n    },\n\n    /**\n     * 转到最后一页\n     */\n    lastPage() {\n      const { eventBus } = this.$PDFViewerApplication;\n      eventBus.dispatch(EVENT.PDF.LAST_PAGE);\n    },\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SecondaryToolbar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SecondaryToolbar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SecondaryToolbar.vue?vue&type=template&id=28cb067d&\"\nimport script from \"./SecondaryToolbar.vue?vue&type=script&lang=ts&\"\nexport * from \"./SecondaryToolbar.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import SecondaryToolbar from \"./SecondaryToolbar.vue\";\n\nSecondaryToolbar.install = function (Vue) {\n  Vue.component(SecondaryToolbar.name, SecondaryToolbar);\n};\n\nexport default SecondaryToolbar;\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"d-flex justify-center align-center\"},[_c('v-btn',{attrs:{\"mini\":\"\",\"id\":\"zoomOut\",\"icon\":\"\",\"disabled\":_vm.pageScale <= _vm.MIN_SCALE},on:{\"click\":_vm.zoomOut}},[_c('v-icon',[_vm._v(\"mdi-minus\")])],1),_c('v-menu',{scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.$vuetify.breakpoint.mobile),expression:\"!$vuetify.breakpoint.mobile\"}],class:_vm.$vuetify.breakpoint.mobile ? 'scaleButton-mobile' : 'scaleButton-pc',attrs:{\"text\":\"\",\"color\":\"black\"}},'v-btn',attrs,false),on),[_vm._v(\" \"+_vm._s(_vm.customScale || _vm.selectedScale.text)+\" \")])]}}])},[_c('v-list',{staticClass:\"scaleList\",attrs:{\"dense\":\"\",\"max-height\":\"304\"}},[_c('v-subheader',[_vm._v(\"选择缩放比例\")]),_vm._l((_vm.options),function(item){return _c('v-list-item',{key:item.value,staticClass:\"scaleListItem\",on:{\"click\":function($event){return _vm.selectScale(item)}}},[_c('v-list-item-title',[_vm._v(_vm._s(item.text))])],1)})],2)],1),_c('v-btn',{attrs:{\"mini\":\"\",\"id\":\"zoomIn\",\"icon\":\"\",\"disabled\":_vm.pageScale >= _vm.MAX_SCALE},on:{\"click\":_vm.zoomIn}},[_c('v-icon',[_vm._v(\"mdi-plus\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"d-flex justify-center align-center\">\n    <v-btn\n      mini\n      id=\"zoomOut\"\n      icon\n      @click=\"zoomOut\"\n      :disabled=\"pageScale <= MIN_SCALE\"\n    >\n      <v-icon>mdi-minus</v-icon>\n    </v-btn>\n\n    <v-menu>\n      <template v-slot:activator=\"{ on, attrs }\">\n        <v-btn\n          text\n          color=\"black\"\n          v-bind=\"attrs\"\n          v-on=\"on\"\n          v-show=\"!$vuetify.breakpoint.mobile\"\n          :class=\"\n            $vuetify.breakpoint.mobile ? 'scaleButton-mobile' : 'scaleButton-pc'\n          \"\n        >\n          {{ customScale || selectedScale.text }}\n        </v-btn>\n      </template>\n      <v-list class=\"scaleList\" dense max-height=\"304\">\n        <v-subheader>选择缩放比例</v-subheader>\n        <v-list-item\n          v-for=\"item in options\"\n          :key=\"item.value\"\n          class=\"scaleListItem\"\n          @click=\"selectScale(item)\"\n        >\n          <v-list-item-title>{{ item.text }}</v-list-item-title>\n        </v-list-item>\n      </v-list>\n    </v-menu>\n    <v-btn\n      mini\n      id=\"zoomIn\"\n      icon\n      @click=\"zoomIn\"\n      :disabled=\"pageScale >= MAX_SCALE\"\n    >\n      <v-icon>mdi-plus</v-icon>\n    </v-btn>\n  </div>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport { DEFAULT_SCALE_VALUE, EVENT } from \"@/components/doc\";\n\nconst DEFAULT_SCALE = 1.0;\nconst MIN_SCALE = 0.1;\nconst MAX_SCALE = 10.0;\nconst SCALE_OPTIONS = [\n  { text: \"自动缩放\", value: \"auto\" },\n  { text: \"实际大小\", value: \"page-actual\" },\n  { text: \"适合页面\", value: \"page-fit\" },\n  { text: \"适合页宽\", value: \"page-width\" },\n  { text: \"50%\", value: 0.5 },\n  { text: \"75%\", value: 0.75 },\n  { text: \"100%\", value: 1 },\n  { text: \"125%\", value: 1.25 },\n  { text: \"150%\", value: 1.5 },\n  { text: \"200%\", value: 2 },\n  { text: \"300%\", value: 3 },\n  { text: \"400%\", value: 4 },\n];\n\nexport default Vue.extend({\n  name: \"ScaleController\",\n\n  data: () => ({\n    options: SCALE_OPTIONS,\n    selectedScale: SCALE_OPTIONS[0],\n    customScale: \"\",\n    pageScale: DEFAULT_SCALE,\n    pageScaleValue: DEFAULT_SCALE_VALUE,\n    MIN_SCALE,\n    MAX_SCALE,\n  }),\n\n  created() {\n    const { eventBus } = this.$PDFViewerApplication;\n    eventBus.on(EVENT.PDF.SET_PAGE_SCALE, this.setPageScale);\n  },\n\n  methods: {\n    /**\n     * 缩小\n     */\n    zoomOut() {\n      const { eventBus } = this.$PDFViewerApplication;\n      eventBus.dispatch(EVENT.PDF.ZOOM_OUT);\n    },\n\n    /**\n     * 放大\n     */\n    zoomIn() {\n      const { eventBus } = this.$PDFViewerApplication;\n      eventBus.dispatch(EVENT.PDF.ZOOM_IN);\n    },\n\n    /**\n     * 选择缩放比例\n     */\n    selectScale(item) {\n      const { eventBus } = this.$PDFViewerApplication;\n\n      this.selectedScale = item;\n\n      if (item.value) {\n        eventBus.dispatch(EVENT.PDF.SCALE_CHANGED, item.value);\n      }\n    },\n\n    /**\n     * 设置缩放比例\n     */\n    setPageScale({ pageScaleValue, pageScale }) {\n      this.pageScale = pageScale;\n\n      if (pageScaleValue) {\n        this.pageScaleValue = pageScaleValue;\n      } else {\n        this.pageScaleValue = Math.round(pageScale * 10000) / 100 + \"%\";\n      }\n\n      let predefinedValueFound = false;\n\n      for (let i = 0; i < SCALE_OPTIONS.length; i++) {\n        const option = SCALE_OPTIONS[i];\n\n        if (\n          option.value === this.pageScale ||\n          option.value === this.pageScaleValue\n        ) {\n          predefinedValueFound = true;\n          this.customScale = option.text;\n          this.selectedScale = option;\n          break;\n        }\n      }\n\n      if (!predefinedValueFound) {\n        this.customScale = this.pageScaleValue;\n        this.selectedScale = {};\n      } else {\n        this.customScale = \"\";\n      }\n    },\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.scaleButton-pc {\n  width: 96px;\n}\n.scaleButton-mobile {\n  width: 48px;\n}\n\n.mobile-scale {\n  width: 70%;\n}\n\ndefault-scale {\n}\n.scaleList {\n  .scaleListItem {\n    background: #fff;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScaleController.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScaleController.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ScaleController.vue?vue&type=template&id=38b88933&scoped=true&\"\nimport script from \"./ScaleController.vue?vue&type=script&lang=js&\"\nexport * from \"./ScaleController.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ScaleController.vue?vue&type=style&index=0&id=38b88933&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"38b88933\",\n  null\n  \n)\n\nexport default component.exports","import ScaleController from \"./ScaleController.vue\";\n\nScaleController.install = function (Vue) {\n  Vue.component(ScaleController.name, ScaleController);\n};\n\nexport default ScaleController;\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-progress-linear',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.visible),expression:\"visible\"}],attrs:{\"value\":_vm.percent}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { clamp } from \"@/utils\";\n\nexport default Vue.extend({\n  name: \"ProgressBar\",\n\n  data: () => ({\n    percent: 0,\n    visible: false,\n  }),\n\n  created() {\n    this.$PDFViewerApplication.eventBus.on(\n      \"updateloadingbar\",\n      this.updateLoadingBar\n    );\n    this.$PDFViewerApplication.eventBus.on(\n      \"showloadingbar\",\n      this.showLoadingBar\n    );\n    this.$PDFViewerApplication.eventBus.on(\n      \"hideloadingbar\",\n      this.hideLoadingBar\n    );\n  },\n\n  methods: {\n    updateLoadingBar(percent: number) {\n      // When we transition from full request to range requests, it's possible\n      // that we discard some of the loaded data. This can cause the loading\n      // bar to move backwards. So prevent this by only updating the bar if it\n      // increases.\n      if (percent <= this.percent) {\n        return;\n      }\n\n      this.percent = clamp(percent, 0, 100);\n\n      if (isNaN(percent)) {\n        return;\n      }\n\n      this.percent = percent;\n    },\n\n    showLoadingBar() {\n      this.visible = true;\n    },\n\n    hideLoadingBar() {\n      this.visible = false;\n    },\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProgressBar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProgressBar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ProgressBar.vue?vue&type=template&id=2ba2ac9a&\"\nimport script from \"./ProgressBar.vue?vue&type=script&lang=ts&\"\nexport * from \"./ProgressBar.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import ProgressBar from \"./ProgressBar.vue\";\n\nProgressBar.install = function (Vue) {\n  Vue.component(ProgressBar.name, ProgressBar);\n};\n\nexport default ProgressBar;\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"400\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h6\"},[_vm._v(\"文档已加密\")]),_c('v-card-text',[_c('v-text-field',{attrs:{\"append-icon\":_vm.showPassword ? 'mdi-eye' : 'mdi-eye-off',\"type\":_vm.showPassword ? 'text' : 'password',\"label\":_vm.label},on:{\"click:append\":function($event){_vm.showPassword = !_vm.showPassword}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.submit}},[_vm._v(\"确认\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog v-model=\"dialog\" persistent max-width=\"400\">\n    <v-card>\n      <v-card-title class=\"text-h6\">文档已加密</v-card-title>\n      <v-card-text>\n        <v-text-field\n          v-model=\"password\"\n          :append-icon=\"showPassword ? 'mdi-eye' : 'mdi-eye-off'\"\n          :type=\"showPassword ? 'text' : 'password'\"\n          :label=\"label\"\n          @click:append=\"showPassword = !showPassword\"\n        />\n      </v-card-text>\n      <v-card-actions>\n        <v-spacer />\n        <v-btn text @click=\"cancel\">取消</v-btn>\n        <v-btn text @click=\"submit\">确认</v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script type=\"ts\">\nimport EVENT from \"@/constants/event\";\nimport Vue from \"vue\";\n\nexport default Vue.extend({\n  name: \"PasswordPrompt\",\n  data() {\n    return {\n      dialog: false,\n      showPassword: false,\n      password: \"\",\n      label: \"请输入密码以打开此 PDF 文档\",\n    };\n  },\n\n  methods: {\n    submit() {\n      const { eventBus } = this.$PDFViewerApplication;\n      const password = this.password;\n      // 校验密码\n      eventBus.dispatch(EVENT.COMMON.PASSWORD.VERIFY, {\n        password,\n      });\n    },\n    cancel() {\n      const { eventBus } = this.$PDFViewerApplication;\n      eventBus.dispatch(EVENT.COMMON.PASSWORD.CANCEL);\n      this.passed();\n    },\n    open({ label }) {\n      // 目前没有做多语言功能，label返回的是'';\n      // this.label = label;\n      this.dialog = true;\n    },\n    close() {\n      this.dialog = false;\n    },\n    reset() {\n      this.showPassword = false;\n      this.password = \"\";\n    },\n    passed() {\n      this.reset();\n      this.close();\n    },\n  },\n  mounted() {\n    const { eventBus } = this.$PDFViewerApplication;\n\n    eventBus.on(EVENT.COMMON.PASSWORD.OPEN, this.open);\n    eventBus.on(EVENT.COMMON.PASSWORD.PASSED, this.passed);\n  },\n  destroyed() {\n    const { eventBus } = this.$PDFViewerApplication;\n\n    eventBus.off(EVENT.COMMON.PASSWORD.OPEN, this.open);\n    eventBus.off(EVENT.COMMON.PASSWORD.PASSED, this.passed);\n  },\n});\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PasswordPrompt.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PasswordPrompt.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PasswordPrompt.vue?vue&type=template&id=83fb50a2&\"\nimport script from \"./PasswordPrompt.vue?vue&type=script&lang=js&\"\nexport * from \"./PasswordPrompt.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import PasswordPrompt from \"./PasswordPrompt.vue\";\n\nPasswordPrompt.install = function (Vue) {\n  Vue.component(PasswordPrompt.name, PasswordPrompt);\n};\n\nexport default PasswordPrompt;\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"383\"},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\" 验证用户密码 \")]),_c('v-form',{ref:\"form\"},[_c('v-container',{staticStyle:{\"padding\":\"24px\"},attrs:{\"fluid\":\"\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"append-icon\":_vm.show1 ? 'mdi-eye' : 'mdi-eye-off',\"type\":_vm.show1 ? 'text' : 'password',\"rules\":_vm.rules},on:{\"click:append\":function($event){_vm.show1 = !_vm.show1}},model:{value:(_vm.passwordDialog.pwd),callback:function ($$v) {_vm.$set(_vm.passwordDialog, \"pwd\", $$v)},expression:\"passwordDialog.pwd\"}}),_c('v-checkbox',{attrs:{\"hide-details\":\"false\",\"label\":\"记住密码, 7天内不再显示\"},model:{value:(_vm.passwordDialog.remember),callback:function ($$v) {_vm.$set(_vm.passwordDialog, \"remember\", $$v)},expression:\"passwordDialog.remember\"}})],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"error\"},on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"loading\":_vm.loading},on:{\"click\":_vm.submit}},[_vm._v(\"确认\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog v-model=\"visible\" persistent max-width=\"383\">\n    <v-card>\n      <v-card-title> 验证用户密码 </v-card-title>\n      <v-form ref=\"form\">\n        <v-container fluid style=\"padding: 24px\">\n          <v-text-field\n            dense\n            :append-icon=\"show1 ? 'mdi-eye' : 'mdi-eye-off'\"\n            :type=\"show1 ? 'text' : 'password'\"\n            @click:append=\"show1 = !show1\"\n            v-model=\"passwordDialog.pwd\"\n            :rules=\"rules\"\n          >\n          </v-text-field>\n\n          <v-checkbox\n            hide-details=\"false\"\n            v-model=\"passwordDialog.remember\"\n            label=\"记住密码, 7天内不再显示\"\n          >\n          </v-checkbox>\n        </v-container>\n      </v-form>\n      <v-card-actions>\n        <v-spacer />\n        <v-btn color=\"error\" @click=\"cancel\">取消</v-btn>\n        <v-btn color=\"primary\" dark @click=\"submit\" :loading=\"loading\"\n          >确认</v-btn\n        >\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script type=\"ts\">\nimport Vue from \"vue\";\nimport EVENT from \"@/constants/event\";\nexport default Vue.extend({\n  name: \"password-verify\",\n  props: {\n    visible: {\n      type: Boolean,\n      default: false,\n    }\n  },\n  data() {\n    return {\n      show1: false,\n      loading: false,\n      passwordDialog: {\n        pwd: \"\",\n        remember: false,\n      },\n      rules: [(v) => !!v || \"密码不能为空\"],\n      type: null,\n    };\n  },\n  watch: {\n    visible(v) {\n      if (!v) {\n        this.loading = false\n      }\n    }\n  },\n  methods: {\n    setType(type) {\n      this.type = type\n    },\n    cancel() {\n      this.$emit('hideSignPwd')\n      this.reset()\n    },\n    submit() {\n      if (this.$refs.form.validate()) {\n        this.loading = true\n        // 校验密码\n        // 执行对应的需要用到密码参数的请求操作\n        this.$emit('handleSubmit', { type: this.type, password: this.passwordDialog.pwd, isRemember: this.passwordDialog.remember })\n\n        this.reset();\n      }\n    },\n    reset() {\n      this.passwordDialog.pwd = ''\n        this.passwordDialog.remember = false\n    }\n  },\n  mounted() {\n    // const { eventBus } = this.$PDFViewerApplication;\n    // eventBus.on(EVENT.SEAL.PASSWORD.OPEN, ({ callback }) => {\n    //   this.callback = callback;\n    //   this.open()\n    // });\n  },\n});\n</script>\n\n<style></style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PasswordVerify.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PasswordVerify.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PasswordVerify.vue?vue&type=template&id=a31254d0&\"\nimport script from \"./PasswordVerify.vue?vue&type=script&lang=js&\"\nexport * from \"./PasswordVerify.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import PasswordVerify from \"./PasswordVerify.vue\";\n\nPasswordVerify.install = function (Vue) {\n  Vue.component(PasswordVerify.name, PasswordVerify);\n};\n\nexport default PasswordVerify;\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"990\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ attrs }){return [_c('v-btn',_vm._b({directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],attrs:{\"icon\":\"\"},on:{\"click\":_vm.open}},'v-btn',attrs,false),[_c('v-icon',[_vm._v(\" mdi-watermark \")])],1)]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h5\"},[_vm._v(\" 添加水印 \")]),_c('v-card-text',[_c('v-form',{ref:\"form\"},[_c('v-container',[_c('v-row',{attrs:{\"justify\":\"space-between\",\"align\":\"start\"}},[_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-row',[_c('v-file-input',{attrs:{\"accept\":\"image/*\",\"prepend-inner-icon\":\"mdi-image\",\"prepend-icon\":\"\",\"truncate-length\":\"15\",\"label\":\"上传图片作为水印\"},model:{value:(_vm.file),callback:function ($$v) {_vm.file=$$v},expression:\"file\"}})],1),_c('v-row',[_c('v-text-field',{attrs:{\"disabled\":!_vm.isText,\"clearable\":\"\",\"label\":\"文本水印\",\"rules\":_vm.textMode},model:{value:(_vm.watermark.text),callback:function ($$v) {_vm.$set(_vm.watermark, \"text\", $$v)},expression:\"watermark.text\"}})],1),_c('v-row',[_c('v-select',{attrs:{\"disabled\":!_vm.isText,\"items\":_vm.fontNames,\"label\":\"文本字体\",\"required\":\"\"},model:{value:(_vm.watermark.font),callback:function ($$v) {_vm.$set(_vm.watermark, \"font\", $$v)},expression:\"watermark.font\"}})],1),_c('v-row',[_c('v-text-field',{attrs:{\"disabled\":!_vm.isText,\"rules\":_vm.isNumber,\"label\":\"文本字号\",\"type\":\"number\",\"required\":\"\"},model:{value:(_vm.watermark.size),callback:function ($$v) {_vm.$set(_vm.watermark, \"size\", $$v)},expression:\"watermark.size\"}})],1),_c('v-row',[_c('v-color-picker',{ref:\"colorPicker\",staticStyle:{\"width\":\"100%\"},attrs:{\"disabled\":!_vm.isText,\"hide-mode-switch\":\"\",\"hide-inputs\":\"\",\"mode:sync\":\"rgba\",\"canvas-height\":\"100\"},model:{value:(_vm.watermark.color),callback:function ($$v) {_vm.$set(_vm.watermark, \"color\", $$v)},expression:\"watermark.color\"}})],1)],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-row',[_c('v-combobox',{attrs:{\"label\":\"旋转角度\",\"clearable\":\"\",\"items\":_vm.rotateItems,\"suffix\":_vm.watermark.rotate?.text ? '' : '°',\"item-text\":\"text\",\"item-value\":\"value\",\"rules\":_vm.notNULL},on:{\"change\":(v) => (this.watermark.rotate = v)},model:{value:(_vm.watermark.rotate),callback:function ($$v) {_vm.$set(_vm.watermark, \"rotate\", $$v)},expression:\"watermark.rotate\"}})],1),_c('v-row',[_c('v-text-field',{attrs:{\"label\":\"不透明度\",\"suffix\":\"%\",\"rules\":_vm.notNULL},model:{value:(_vm.watermark.opacity),callback:function ($$v) {_vm.$set(_vm.watermark, \"opacity\", $$v)},expression:\"watermark.opacity\"}})],1),_c('v-row',[_c('v-checkbox',{attrs:{\"label\":\"是否平铺\"},model:{value:(_vm.watermark.isTiled),callback:function ($$v) {_vm.$set(_vm.watermark, \"isTiled\", $$v)},expression:\"watermark.isTiled\"}})],1),_c('v-row',[_c('v-text-field',{attrs:{\"disabled\":!_vm.watermark.isTiled,\"label\":\"水印密度\",\"rules\":_vm.notNULL},model:{value:(_vm.watermark.density),callback:function ($$v) {_vm.$set(_vm.watermark, \"density\", $$v)},expression:\"watermark.density\"}})],1),_c('v-row',[_c('v-combobox',{attrs:{\"disabled\":_vm.watermark.isTiled,\"label\":\"垂直位置\",\"clearable\":\"\",\"items\":_vm.verticalItems,\"suffix\":_vm.watermark.vertical?.text ? '' : 'px',\"item-text\":\"text\",\"item-value\":\"value\",\"rules\":_vm.notNULL},on:{\"change\":(v) => (this.watermark.vertical = v)},model:{value:(_vm.watermark.vertical),callback:function ($$v) {_vm.$set(_vm.watermark, \"vertical\", $$v)},expression:\"watermark.vertical\"}})],1),_c('v-row',[_c('v-combobox',{attrs:{\"disabled\":_vm.watermark.isTiled,\"label\":\"水平位置\",\"clearable\":\"\",\"items\":_vm.horizontalItems,\"suffix\":_vm.watermark.horizontal?.text ? '' : 'px',\"item-text\":\"text\",\"item-value\":\"value\",\"rules\":_vm.notNULL},on:{\"change\":(v) => (this.watermark.horizontal = v)},model:{value:(_vm.watermark.horizontal),callback:function ($$v) {_vm.$set(_vm.watermark, \"horizontal\", $$v)},expression:\"watermark.horizontal\"}})],1)],1),_c('v-col',{staticStyle:{\"height\":\"100%\"},attrs:{\"cols\":\"5\"}},[_c('v-card',{staticStyle:{\"width\":\"100%\",\"height\":\"476px\",\"padding\":\"0\"}},[_c('v-row',{staticStyle:{\"height\":\"100%\"},attrs:{\"justify\":\"center\",\"align\":\"center\"}},[_c('canvas',{attrs:{\"id\":\"previewCanvas\"}})])],1)],1)],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\" darken-1\",\"text\":\"\"},on:{\"click\":_vm.cancel}},[_vm._v(\" 取消 \")]),_c('v-btn',{staticStyle:{\"margin-right\":\"24px\"},attrs:{\"color\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\" 确认 \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const WATERMARK_FONT_OPTIONS = [\r\n  { text: \"宋体\", value: \"SIMSUN.TTC\" },\r\n  { text: \"微软雅黑\", value: \"msyh.ttc\" },\r\n  { text: \"楷体\", value: \"SIMKAI.TTF\" },\r\n  { text: \"黑体\", value: \"SIMHEI.TTF\" },\r\n];\r\n\r\nconst WATERMARK_ROTATE_OPTIONS = [\r\n  { text: \"旋转45°\", value: 45 },\r\n  { text: \"平行\", value: 0 },\r\n  { text: \"旋转-45°\", value: -45 },\r\n];\r\n\r\nconst WATERMARK_VERTICAL_OPTIONS = [\r\n  { text: \"顶部居中\", value: \"top\" },\r\n  { text: \"居中\", value: \"middle\" },\r\n  { text: \"底部居中\", value: \"bottom\" },\r\n];\r\n\r\nconst WATERMARK_HORIZONTAL_OPTIONS = [\r\n  { text: \"左对齐\", value: \"left\" },\r\n  { text: \"居中\", value: \"center\" },\r\n  { text: \"右对齐\", value: \"right\" },\r\n];\r\n\r\nexport {\r\n  WATERMARK_FONT_OPTIONS,\r\n  WATERMARK_ROTATE_OPTIONS,\r\n  WATERMARK_VERTICAL_OPTIONS,\r\n  WATERMARK_HORIZONTAL_OPTIONS,\r\n};\r\n","<template>\n  <v-dialog v-model=\"dialog\" persistent max-width=\"990\">\n    <template v-slot:activator=\"{ attrs }\">\n      <v-btn icon v-bind=\"attrs\" @click=\"open\" v-show=\"false\">\n        <v-icon> mdi-watermark </v-icon>\n      </v-btn>\n    </template>\n    <v-card>\n      <v-card-title class=\"text-h5\"> 添加水印 </v-card-title>\n      <v-card-text>\n        <v-form ref=\"form\">\n          <v-container>\n            <v-row justify=\"space-between\" align=\"start\">\n              <v-col cols=\"3\">\n                <v-row>\n                  <v-file-input\n                    accept=\"image/*\"\n                    prepend-inner-icon=\"mdi-image\"\n                    prepend-icon=\"\"\n                    v-model=\"file\"\n                    truncate-length=\"15\"\n                    label=\"上传图片作为水印\"\n                  ></v-file-input>\n                </v-row>\n                <v-row>\n                  <v-text-field\n                    :disabled=\"!isText\"\n                    v-model=\"watermark.text\"\n                    clearable\n                    label=\"文本水印\"\n                    :rules=\"textMode\"\n                  >\n                  </v-text-field>\n                </v-row>\n                <v-row>\n                  <v-select\n                    :disabled=\"!isText\"\n                    v-model=\"watermark.font\"\n                    :items=\"fontNames\"\n                    label=\"文本字体\"\n                    required\n                  >\n                  </v-select>\n                </v-row>\n                <v-row>\n                  <v-text-field\n                    :disabled=\"!isText\"\n                    v-model=\"watermark.size\"\n                    :rules=\"isNumber\"\n                    label=\"文本字号\"\n                    type=\"number\"\n                    required\n                  >\n                  </v-text-field>\n                </v-row>\n                <v-row>\n                  <v-color-picker\n                    ref=\"colorPicker\"\n                    :disabled=\"!isText\"\n                    style=\"width: 100%\"\n                    v-model=\"watermark.color\"\n                    hide-mode-switch\n                    hide-inputs\n                    mode:sync=\"rgba\"\n                    canvas-height=\"100\"\n                  ></v-color-picker>\n                </v-row>\n              </v-col>\n\n              <v-col cols=\"3\">\n                <v-row>\n                  <v-combobox\n                    label=\"旋转角度\"\n                    clearable\n                    v-model=\"watermark.rotate\"\n                    :items=\"rotateItems\"\n                    :suffix=\"watermark.rotate?.text ? '' : '°'\"\n                    item-text=\"text\"\n                    item-value=\"value\"\n                    @change=\"(v) => (this.watermark.rotate = v)\"\n                    :rules=\"notNULL\"\n                  >\n                  </v-combobox>\n                </v-row>\n                <v-row>\n                  <v-text-field\n                    label=\"不透明度\"\n                    v-model=\"watermark.opacity\"\n                    suffix=\"%\"\n                    :rules=\"notNULL\"\n                  >\n                  </v-text-field>\n                </v-row>\n                <v-row>\n                  <v-checkbox\n                    v-model=\"watermark.isTiled\"\n                    label=\"是否平铺\"\n                  ></v-checkbox>\n                </v-row>\n                <v-row>\n                  <v-text-field\n                    :disabled=\"!watermark.isTiled\"\n                    v-model=\"watermark.density\"\n                    label=\"水印密度\"\n                    :rules=\"notNULL\"\n                  >\n                  </v-text-field>\n                </v-row>\n                <v-row>\n                  <v-combobox\n                    :disabled=\"watermark.isTiled\"\n                    label=\"垂直位置\"\n                    clearable\n                    v-model=\"watermark.vertical\"\n                    :items=\"verticalItems\"\n                    :suffix=\"watermark.vertical?.text ? '' : 'px'\"\n                    item-text=\"text\"\n                    item-value=\"value\"\n                    @change=\"(v) => (this.watermark.vertical = v)\"\n                    :rules=\"notNULL\"\n                  >\n                  </v-combobox>\n                </v-row>\n                <v-row>\n                  <v-combobox\n                    :disabled=\"watermark.isTiled\"\n                    label=\"水平位置\"\n                    clearable\n                    v-model=\"watermark.horizontal\"\n                    :items=\"horizontalItems\"\n                    :suffix=\"watermark.horizontal?.text ? '' : 'px'\"\n                    item-text=\"text\"\n                    item-value=\"value\"\n                    @change=\"(v) => (this.watermark.horizontal = v)\"\n                    :rules=\"notNULL\"\n                  >\n                  </v-combobox>\n                </v-row>\n              </v-col>\n              <v-col cols=\"5\" style=\"height: 100%\">\n                <v-card style=\"width: 100%; height: 476px; padding: 0\">\n                  <v-row justify=\"center\" align=\"center\" style=\"height: 100%\">\n                    <canvas id=\"previewCanvas\"></canvas>\n                  </v-row>\n                </v-card>\n              </v-col>\n            </v-row>\n          </v-container>\n        </v-form>\n      </v-card-text>\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn color=\" darken-1\" text @click=\"cancel\"> 取消 </v-btn>\n        <v-btn color=\"primary\" @click=\"submit\" style=\"margin-right: 24px\">\n          确认\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport EVENT from \"@/constants/event\";\nimport {\n  WATERMARK_FONT_OPTIONS,\n  WATERMARK_ROTATE_OPTIONS,\n  WATERMARK_VERTICAL_OPTIONS,\n  WATERMARK_HORIZONTAL_OPTIONS,\n} from \"@/constants/watermark\";\nimport { convertConfig, renderWaterMark } from \"@/utils\";\n\nexport default Vue.extend({\n  name: \"WaterMark\",\n\n  data: () => ({\n    fontNames: WATERMARK_FONT_OPTIONS,\n    dialog: false,\n    isText: true,\n    rotateItems: WATERMARK_ROTATE_OPTIONS,\n    verticalItems: WATERMARK_VERTICAL_OPTIONS,\n    horizontalItems: WATERMARK_HORIZONTAL_OPTIONS,\n    file: null,\n    watermark: {\n      file: null,\n      // 水印内容\n      text: \"金格科技\",\n      // // 水印字体  黑体/楷体/宋体/微软雅黑\n      font: WATERMARK_FONT_OPTIONS[0].value,\n      // // 水印字号\n      size: 32,\n      // 水印颜色 rgb格式\n      color: \"rgb(0,255,0)\",\n      // 旋转角度 0-360\n      rotate: WATERMARK_ROTATE_OPTIONS[0],\n      // 不透明度\n      opacity: 100,\n      // 是否平铺  true / false\n      isTiled: true,\n      // 水印密度  0-100\n      density: 100,\n      // 垂直位置  top / middle / bottom\n      vertical: WATERMARK_VERTICAL_OPTIONS[0],\n      // 水平位置  left / center / right\n      horizontal: WATERMARK_HORIZONTAL_OPTIONS[0],\n    },\n    textMode: [(v) => !!v || \"水印内容不能为空\"],\n    notNULL: [(v) => !!v || \"不能为空\"],\n    isNumber: [\n      (v) => {\n        const pattern = /^\\+?[1-9][0-9]*$/;\n        if (pattern.test(v)) {\n          return true;\n        }\n        return \"not number\";\n      },\n    ],\n  }),\n  watch: {\n    async file(val) {\n      if (val) {\n        this.isText = false;\n        // 不传空 跳过rules\n        if (!this.watermark.text) this.watermark.text = \"   \";\n        await this.getImageBase64(val);\n      } else {\n        this.isText = true;\n        this.watermark.file = null;\n      }\n    },\n    watermark: {\n      handler(val) {\n        if (this.dialog && this.$refs.form) {\n          if (this.$refs.form.validate()) {\n            this.renderWaterMark();\n            this.isSubmit = true;\n          } else {\n            this.isSubmit = false;\n          }\n        }\n      },\n      deep: true,\n    },\n  },\n  methods: {\n    documentRenderWatermark(config) {\n      const { pdfViewer, pagesCount } = this.$PDFViewerApplication;\n      for (let i = 0; i < pagesCount; i++) {\n        const pageView = pdfViewer.getPageView(i);\n        const pageScale = pageView.viewport.scale;\n        const pageWidth = pageView.width / pageScale;\n        const pageHeight = pageView.height / pageScale;\n        const watermark = convertConfig(config, pageWidth, pageHeight);\n\n        pageView.cloudReader_watermark_add(watermark);\n      }\n    },\n    addWatermark() {\n      const config = this.getOutput();\n      this.documentRenderWatermark(config);\n    },\n    previewWatermark(config) {\n      if (!config) {\n        return;\n      }\n      this.documentRenderWatermark(config);\n    },\n    renderWaterMark() {\n      this.$nextTick(() => {\n        const { pdfViewer, page } = this.$PDFViewerApplication;\n        const pageView = pdfViewer.getPageView(page - 1);\n        const pageScale = pageView.viewport.scale;\n        const pageWidht = pageView.width / pageScale;\n        const pageHeight = pageView.height / pageScale;\n\n        // 将第一页绘制在 this.previewCanvas 上，绘制比例为原页面大小的一半\n        const previewScale = 0.5;\n        const previewWidth = pageWidht * previewScale;\n        const previewHeight = pageHeight * previewScale;\n\n        let data = this.getOutput();\n        const config = convertConfig(data, pageWidht, pageHeight); // 获取水印设置\n        const previewCanvas = document.querySelector(\"#previewCanvas\");\n        renderWaterMark(\n          config,\n          previewCanvas,\n          previewScale,\n          previewWidth,\n          previewHeight,\n          pageView,\n          false\n        );\n        // 渲染水印\n        // if (this.isSubmit) {\n        //   转换数据给后端\n        //   const params = this.convertParams();\n        //   this.$service.addWatermark(params).then(() => {\n        //     this.addWatermark();\n        //   });\n        // }\n      });\n    },\n\n    /**\n     * 获得可用的watermark-config对象\n     */\n    getOutput() {\n      let output = {\n        ...this.watermark,\n      };\n      output.vertical = output.vertical?.text\n        ? output.vertical.value\n        : output.vertical;\n\n      output.rotate = output.rotate?.text ? output.rotate.value : output.rotate;\n\n      output.horizontal = output.horizontal?.text\n        ? output.horizontal.value\n        : output.horizontal;\n\n      output.opacity = output.opacity / 100;\n\n      output.fontName = WATERMARK_FONT_OPTIONS.filter(\n        (i) => i.value == output.font\n      )[0].text;\n\n      if (this.$refs.colorPicker) {\n        let v = this.$refs.colorPicker.$data.internalValue;\n        output.color = `rgb(${v.rgba[\"r\"]},${v.rgba[\"g\"]},${v.rgba[\"b\"]})`;\n      }\n      return output;\n    },\n\n    /**\n     * 打开水印面板\n     */\n    open() {\n      // color-picker无法接受rgb字符串格式 要手动转换值\n      if (typeof this.watermark.color === \"string\") {\n        let colorCopy = this.watermark.color\n          .replace(\"rgb(\", \"\")\n          .replace(\")\", \"\")\n          .split(\",\");\n        this.watermark.color = {\n          b: colorCopy[2],\n          g: colorCopy[1],\n          r: colorCopy[0],\n        };\n      }\n      this.dialog = true;\n      this.renderWaterMark();\n    },\n    cancel() {\n      this.dialog = false;\n    },\n    submit() {\n      if (this.$refs.form.validate()) {\n        // TEST  打印参数\n        console.log(this.getOutput());\n        this.renderWaterMark();\n      }\n    },\n\n    /**\n     * 获取图片文件base64\n     * @param {*} file\n     */\n    async getImageBase64(file) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        let fileBase64 = e.target.result;\n        this.watermark.file = fileBase64;\n      };\n      reader.readAsDataURL(file);\n    },\n  },\n  mounted() {\n    const { eventBus } = this.$PDFViewerApplication;\n\n    const { previewWatermark } = this.$appConfig;\n\n    eventBus.on(EVENT.PDF.DOCUMENT_LOADED, () =>\n      this.previewWatermark(previewWatermark)\n    );\n  },\n  destroyed() {\n    const { eventBus } = this.$PDFViewerApplication;\n    eventBus.off(EVENT.PDF.DOCUMENT_LOADED, this.addWatermark);\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WaterMark.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WaterMark.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WaterMark.vue?vue&type=template&id=a305b4d0&scoped=true&\"\nimport script from \"./WaterMark.vue?vue&type=script&lang=js&\"\nexport * from \"./WaterMark.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a305b4d0\",\n  null\n  \n)\n\nexport default component.exports","import WaterMark from \"./WaterMark.vue\";\n\nWaterMark.install = function (Vue) {\n  Vue.component(WaterMark.name, WaterMark);\n};\n\nexport default WaterMark;\n","import { IWatermarkConfig } from \"./types\";\nimport { WATERMARK_FONT_OPTIONS } from \"../constants/watermark\";\n\nconst defaultWatermarkConfig = {\n  // 水印内容\n  text: \"金格科技\",\n  // 水印字体\n  font: \"黑体\",\n  // 水印字号\n  size: 32,\n  // 水印颜色\n  color: \"rgb(22,22,22)\",\n  // 旋转角度 0-360\n  rotate: 45,\n  // 不透明度\n  opacity: 80,\n  // 是否平铺  true / false\n  isTiled: false,\n  // 水印密度 0-100\n  density: 100,\n  // 垂直位置 top / middle / bottom\n  vertical: \"middle\",\n  // 水平位置 left / center / right\n  horizontal: \"center\",\n};\n\nconst setWatermarkConfig = (\n  userWatermarkConfig: IWatermarkConfig | null\n): IWatermarkConfig | null => {\n  if (userWatermarkConfig) {\n    const fontName = userWatermarkConfig.font || defaultWatermarkConfig.font;\n    return Object.assign({}, defaultWatermarkConfig, userWatermarkConfig, {\n      file: null,\n      fontName:fontName,\n      font: WATERMARK_FONT_OPTIONS.filter((i) => i.text == fontName)[0].text,\n      opacity: userWatermarkConfig.opacity / 100,\n    });\n  } else {\n    return null;\n  }\n};\n\nexport { setWatermarkConfig };\n","import { setWatermarkConfig } from \"./setWatermarkConfig\";\nimport { IAppConfig, IRotateConfig, IWatermarkConfig } from \"./types\";\n\nclass AppConfig {\n  /**\n   * 金格云阅读后端服务接口地址\n   */\n  _url: string;\n\n  /**\n   * 文档ID\n   * 后端盖章、删除、验证时需要通过 documentId 匹配文档\n   */\n  _documentId: string;\n\n  /**\n   * 水印预览配置\n   */\n  _previewWatermark: IWatermarkConfig | null;\n\n  /**\n   * iSignature内部私有方法\n   */\n  iSignatureAPI: any;\n\n  constructor(userConfig: IAppConfig) {\n    // 内部调用方法\n    // this.iSignatureAPI = new iSignatureAPI();\n\n    const { url = \"\", documentId = \"\", previewWatermark = null } = userConfig;\n    this._url = url;\n    this._documentId = documentId;\n    this._previewWatermark = null;\n    if (previewWatermark) {\n      this._previewWatermark = setWatermarkConfig(previewWatermark);\n    }\n  }\n\n  /**\n   * 水印预览配置\n   */\n  get previewWatermark() {\n    return this._previewWatermark;\n  }\n\n  /**\n   * 设置后端服务接口地址\n   */\n  set url(url: string) {\n    this._url = url;\n  }\n\n  /**\n   * 获取后端服务接口地址\n   */\n  get url() {\n    return this._url;\n  }\n\n  /**\n   * 设置文档ID\n   */\n  set documentId(documentId: string) {\n    this._documentId = documentId;\n  }\n\n  /**\n   * 获取文档ID\n   */\n  get documentId() {\n    return this._documentId;\n  }\n}\n\n/**\n * 用户配置项\n */\nconst userConfig: IAppConfig = (<any>window).setAppConfig();\n\n/**\n * 合并配置项\n */\nconst appConfig = new AppConfig(userConfig);\n(<any>window).KGPdfViewerWebApp = (<any>window).appConfig = appConfig;\n\nexport type { IAppConfig };\nexport default appConfig;\n","import QueryString from \"qs\";\nimport axios from \"axios\";\nimport appConfig from \"../config/index.ts\";\n// import { onError } from \"../utils/index\";\n// import { Loading } from \"@design/esign-ui-vue\";\n\nlet loading;\n\nconst request = axios.create({\n  baseURL: appConfig.url,\n  method: \"POST\",\n  params: { docType: 0 },\n  paramsSerializer: (params) =>\n    QueryString.stringify(params, { arrayFormat: \"brackets\" }),\n  headers: {\n    \"Content-Type\": \"application/json;charset=UTF-8\",\n    \"X-Requested-With\": \"XMLHttpRequest\",\n  },\n});\n\nrequest.interceptors.request.use(\n  (config) => {\n    // loading = Loading.service({\n    //   fullscreen: true,\n    //   lock: true,\n    //   text: \"正在加载中\",\n    // });\n\n    if (config.method === \"post\") {\n      config.data = {\n        isEncrypt: false,\n        data: config.data,\n      };\n    }\n\n    return config;\n  },\n  (error) => {\n    return error;\n  }\n);\n\nrequest.interceptors.response.use((response) => {\n  // loading.close();\n  let message;\n  switch (response.status) {\n    case 200:\n      // eslint-disable-next-line no-case-declarations\n      const { data } = response;\n      if (data) {\n        if (\n          response.config.responseType === \"arraybuffer\" &&\n          data.byteLength > 0\n        ) {\n          return data;\n        }\n        // 因为 getLiscenseInfo 返回的数据中没有 status, || data.companyName 是为了做兼容这种情况\n        if (data.status || data.companyName) {\n          return data;\n        } else if (data.message) {\n          // onError(data.message)\n          alert(data.message);\n          return Promise.reject();\n        } else {\n          return data.status;\n        }\n      } else {\n        message = `请求失败：${data.status}，请联系管理员`;\n        // onError(message)\n        alert(data.message);\n        return Promise.reject();\n      }\n    default:\n      message = `请求失败：${data.status}，请联系管理员`;\n      // onError(message)\n      alert(data.message);\n      return Promise.reject();\n  }\n});\n\nexport default request;\n","import request from \"./request\";\nimport { parseQueryString } from \"../utils/index\";\nimport { enc } from \"crypto-js\";\n\n/**\n * 集中式盖章时的印章类型\n * PT：普通印章（OFD 文档不支持普通印章）\n * GM：国密印章\n * GB：国办印章\n */\nconst sealType = \"GM\";\n\n/**\n * 印章来源\n * 0：签章服务器\n * 1：硬件密钥盘(客户端)\n **/\nconst sealOrigin = 0;\n\n/**\n * 证书来源\n * 0：签章服务器\n * 1：硬件密钥盘(客户端)\n */\nconst certOrigin = 0;\n\nlet documentId;\nif (window.appConfig.documentId) {\n  documentId = window.appConfig.documentId;\n} else {\n  const queryString = location.search\n    ? location.search.split(\"?\")[1]\n    : undefined;\n\n  if (queryString) {\n    documentId = parseQueryString(queryString).get(\"documentid\");\n  }\n}\n\n/**\n * 获取文档流\n */\nconst download = () => {\n  if (documentId) {\n    return request({\n      method: \"GET\",\n      params: { action: \"downloadnew\", documentId },\n      responseType: \"arraybuffer\",\n    });\n  } else {\n    throw new Error(\"未指定要加载的文档\");\n  }\n};\n\n/**\n * 获取印章列表\n */\nconst getSeals = (_password) => {\n  const { userId, filterSealNames, password } = window.appConfig;\n  return request({\n    data: {\n      action: \"getSeals\",\n      sealType,\n      keySN: userId,\n      filterSealNames,\n      sealOrigin,\n      certOrigin,\n      password: password || _password,\n    },\n  });\n};\n\n/**\n * 盖章\n */\nconst stampSeal = (seals, cert) => {\n  const { stampType, userId, documentId } = window.appConfig;\n  let convetSeals = seals.map((seal) => ({\n    keySN: userId,\n    extraPosition: {},\n    lastSelected: {},\n    currentPage: seal.page.toString(),\n    esid: seal.esid,\n    width: seal.width,\n    height: seal.height,\n    imgExt: seal.imgExt,\n    imgdata: seal.imgdata,\n    left: seal.left,\n    top: seal.top,\n    page: seal.page.toString(),\n    sealData: seal.sealData,\n    sealtag: seal.sealtag,\n    signName: seal.signName,\n    signSN: enc.Base64.stringify(enc.Utf8.parse(seal.signSN)),\n    unitName: seal.unitName,\n    userCode: seal.userCode,\n    userName: seal.userName,\n    version: seal.version,\n  }));\n\n  convetSeals = stampType != 0 ? [convetSeals] : convetSeals;\n\n  return request({\n    data: {\n      action: \"stampSeal\",\n      certOrigin,\n      documentId,\n      stampType,\n      cert,\n      algorithmType: \"RSA\",\n      sealType,\n      appcode: \"\",\n      clientCode: \"\",\n      isUkey: false,\n      isWebAuth: false,\n      pdfPwd: \"\",\n      seals: convetSeals,\n    },\n  });\n};\n\n/**\n * 验证印章\n */\n\nconst verifySeal = ({ pageNo, x, y }) => {\n  const { documentId } = window.appConfig;\n  return request({\n    data: {\n      action: \"verifySeal\",\n      documentId,\n      certOrigin,\n      page: pageNo,\n      x,\n      y,\n      isSM: false,\n    },\n  });\n};\n\n/**\n * 删除印章\n */\nconst deleteSeal = ({ pageNo, x, y, _password }) => {\n  const { password, documentId, userId } = window.appConfig;\n  return request({\n    data: {\n      action: \"deleteSeal\",\n      documentId,\n      keySN: userId,\n      certOrigin: 0,\n      page: pageNo,\n      x,\n      y,\n      password: password || _password,\n      isSM: false,\n    },\n  });\n};\n\n/**\n * 判断是不是最后一个章，只有最后一个章才可以删除\n */\nconst checkLastone = ({ pageNo, x, y }) => {\n  const { documentId } = window.appConfig;\n  return request({\n    data: {\n      action: \"checkLastone\",\n      documentId,\n      page: pageNo,\n      x,\n      y,\n    },\n  });\n};\n\nconst addWatermark = ({\n  color,\n  fontName,\n  fontSize,\n  fullscreen,\n  leftBottomPosition,\n  opacity,\n  rotate,\n  source,\n  text,\n  density,\n  file,\n}) => {\n  return request({\n    data: {\n      action: \"addWatermark\",\n      documentId: window.appConfig.documentId,\n      color,\n      fontName,\n      file,\n      fontSize,\n      fullscreen,\n      leftBottomPosition,\n      opacity,\n      density,\n      rotate,\n      source,\n      text,\n    },\n  });\n};\n\nexport {\n  download,\n  getSeals,\n  stampSeal,\n  deleteSeal,\n  checkLastone,\n  verifySeal,\n  addWatermark,\n};\nexport default {\n  download,\n  getSeals,\n  stampSeal,\n  deleteSeal,\n  checkLastone,\n  verifySeal,\n  addWatermark,\n};\n","<template>\n  <v-app>\n    <v-app-bar app :dense=\"$vuetify.breakpoint.mobile\">\n      <v-app-bar-nav-icon @click.stop=\"sidebarToggle\" />\n      <v-spacer />\n      <PageController />\n      <v-divider\n        :class=\"$vuetify.breakpoint.mobile ? 'mx-1' : 'mx-4'\"\n        vertical\n      />\n      <ScaleController />\n      <v-divider\n        :class=\"$vuetify.breakpoint.mobile ? 'mx-1' : 'mx-4'\"\n        vertical\n      />\n      <!-- <RotateController /> -->\n      <v-spacer />\n      <PdfFindBar v-if=\"!$vuetify.breakpoint.mobile\" />\n      <WaterMark />\n      <!-- <SealSelector\n        :seals=\"sealList\"\n        :open=\"isSealSelectorVisible\"\n        @handleOpen=\"onSealSelctorBtnClick\"\n        @close=\"onSealSelectorClose\"\n        @cancel=\"onSealSelectorCancel\"\n        @confirm=\"onSealSelectorConfirm\"\n      /> -->\n      <SecondaryToolbar />\n    </v-app-bar>\n\n    <v-navigation-drawer v-model=\"sideBar.visible\" absolute left temporary>\n      <PdfSidebar />\n    </v-navigation-drawer>\n\n    <v-main>\n      <ProgressBar />\n      <PdfViewer :url=\"fileUrl\" :textLayerMode=\"textLayerMode\" />\n      <PasswordPrompt />\n    </v-main>\n\n    <PasswordVerify\n      ref=\"signPwd\"\n      :visible=\"isPwdDialogVisible\"\n      @handleSubmit=\"onSignPwdSubmit\"\n      @hideSignPwd=\"setIsPwdDialogVisible(false)\"\n    />\n  </v-app>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport PdfFindBar from \"@/components/base/PdfFindBar\";\nimport PdfSidebar from \"@/components/base/PdfSidebar\";\nimport PageController from \"@/components/base/PageController\";\nimport SecondaryToolbar from \"@/components/base/SecondaryToolbar\";\nimport ScaleController from \"@/components/base/ScaleController\";\n// import RotateController from \"@/components/base/RotateController\";\nimport ProgressBar from \"@/components/base/ProgressBar\";\nimport PasswordPrompt from \"@/components/base/PasswordPrompt\";\nimport PasswordVerify from \"@/components/biz/PasswordVerify\";\n// import SealSelector from \"@/components/biz/SealSelector\";\nimport WaterMark from \"@/components/biz/WaterMark\";\nimport EVENT from \"@/constants/event\";\nimport { TEXT_LAYER_MODE } from \"@/components/doc\";\nimport \"./global.scss\";\n\nimport * as Services from \"@/service\";\n\nimport { mapState } from \"vuex\";\nimport { createNamespacedHelpers } from \"vuex\";\nconst mapActionsPage = createNamespacedHelpers(\"page\").mapActions;\nconst mapActionsSeal = createNamespacedHelpers(\"seal\").mapActions;\nconst mapActionsDialog = createNamespacedHelpers(\"dialog\").mapActions;\nconst mapActionsPermission = createNamespacedHelpers(\"permission\").mapActions;\n\nexport default Vue.extend({\n  name: \"App\",\n\n  components: {\n    PdfFindBar,\n    PdfSidebar,\n    SecondaryToolbar,\n    PageController,\n    ScaleController,\n    // RotateController,\n    ProgressBar,\n    PasswordPrompt,\n    // SealSelector,\n    WaterMark,\n    PasswordVerify,\n  },\n\n  data: () => ({\n    password: \"123456\",\n    sideBar: {\n      visible: false,\n    },\n  }),\n  computed: {\n    ...mapState({\n      isPwdDialogVisible: ({ dialog }) => {\n        return dialog.isPwdDialogVisible;\n      },\n      isSealSelectorVisible: ({ seal }) => {\n        return seal.isSealSelectorVisible;\n      },\n      operatorPermission: ({ permission }) => {\n        return permission.operatorPermission;\n      },\n      sealList: ({ seal }) => {\n        return seal.sealList;\n      },\n      currentScale: ({ page }) => {\n        return page.currentScale;\n      },\n      // url: ({ config }) => {\n      //   return config.appConfig.url;\n      // },\n      // documentId: ({ config }) => {\n      //   return config.appConfig.documentId;\n      // },\n      // readOnly: ({ config }) => {\n      //   return config.appConfig.readOnly;\n      // },\n    }),\n    textLayerMode() {\n      return this.$vuetify.breakpoint.mobile\n        ? TEXT_LAYER_MODE.DISABLE\n        : TEXT_LAYER_MODE.ENABLE;\n    },\n    fileUrl() {\n      const { url, documentId } = this.$appConfig;\n      return `${url}?docType=0&action=download&documentId=${documentId}&t=${new Date().getTime()}`;\n    },\n  },\n  // computed: {\n  //   textLayerMode() {\n  //     return this.$vuetify.breakpoint.mobile\n  //       ? TEXT_LAYER_MODE.DISABLE\n  //       : TEXT_LAYER_MODE.ENABLE;\n  //   },\n  // },\n\n  methods: {\n    ...mapActionsSeal([\n      \"getSealList\",\n      \"setIsSealSelectorVisible\",\n      \"setSealDisabled\",\n    ]),\n    ...mapActionsDialog([\"setIsPwdDialogVisible\"]),\n    ...mapActionsPermission([\"setPermission\"]),\n    ...mapActionsPage([\"currentScaleChange\", \"currentPageNumberChange\"]),\n    sidebarToggle() {\n      const { eventBus } = this.$PDFViewerApplication;\n\n      this.sideBar.visible = !this.sideBar.visible;\n      eventBus.dispatch(EVENT.PDF.SIDEBAR.TOGGLE);\n      eventBus.dispatch(EVENT.PDF.SIDEBAR.UPDATE_THUMBNAIL_VIEWER);\n    },\n\n    //sign\n    // 印章按钮点击事件处理\n    onSealSelctorBtnClick(type) {\n      this.setIsPwdDialogVisible(true);\n      this.$refs.signPwd.setType(type);\n    },\n    /**\n     * 密码确认框的处理事件\n     * @param type   0 : 盖章   1 ：删章\n     */\n    onSignPwdSubmit(data) {\n      switch (data.type) {\n        case 0:\n          this.getSealList({ password: data.password, pwdInfo: data });\n          // Services.getSeals(password).then((res) => {\n          //   // 调用服务或者传参获取印章数据\n          //   if (res.status) {\n          //     // 获得印章成功 关闭pwd面板 存储密码?\n          //     this.setIsPwdDialogVisible(false);\n          //     this.sealList = res.seals;\n          //     // 打开面板\n          //     if (this.sealList.length) {\n          //       this.setIsSealSelectorVisible(false);\n          //     } else {\n          //       // 是否添加提示没有可展示的印章\n          //     }\n          //   } else {\n          //     // 密码错误的提示 或者请求错误\n          //   }\n\n          //   // 关闭signPwd\n          // });\n          break;\n        default:\n          break;\n      }\n    },\n    // 选择印章弹窗 - close\n    onSealSelectorClose() {\n      this.setIsSealSelectorVisible(false);\n    },\n    // 选择印章弹窗 - cancel\n    onSealSelectorCancel() {\n      this.setIsSealSelectorVisible(false);\n    },\n    // 选择印章弹窗 - confirm\n    onSealSelectorConfirm(data) {\n      this.setIsSealSelectorVisible(false);\n      const img = document.createElement(\"img\");\n      img.width = data.width;\n      img.height = data.height;\n      img.src = data.imgdata;\n      img.onload = () => {\n        // this.$refs.setStampSeal.addDragContent({\n        //   w: data.width,\n        //   h: data.height,\n        //   content: img,\n        //   ...data,\n        // });\n        // // 顺序不要变，先添加再显示\n        // this.setStampSealVisible = true;\n        // this.setSealDisabled(true);\n      };\n    },\n  },\n});\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=5bb97df7&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import * as Services from \"@/service\";\nimport { getLocalPassword, saveLocalPassword } from \"@/utils/index\";\n// initial state\nconst state = () => ({\n  /**\n   * 印章列表\n   * @type {array}\n   */\n  sealList: [],\n  /**\n   * 是否打开拖动盖章面板\n   * @type {boolearn}\n   */\n  isStampSeal: false,\n  /**\n   * 是否展示印章选择框\n   * @type {boolearn}\n   */\n  isSealSelectorVisible: false,\n  /**\n   * 印章选择框是否展示左右按钮\n   * @type {boolearn}\n   */\n  sealDisabled: false,\n});\n\n// getters\nconst getters = {};\n\n// actions\nconst actions = {\n  // 点击签章按钮\n  handleStampSeal({ state, dispatch, commit }) {\n    if (window.appConfig.password) {\n      dispatch(\"getSealList\", { password: window.appConfig.password });\n      return;\n    }\n\n    const { password } = getLocalPassword();\n    if (password) {\n      dispatch(\"getSealList\", { password });\n    } else {\n      dispatch(\"dialog/setIsPwdDialogVisible\", true, { root: true });\n    }\n  },\n  // 设置 密码弹窗显隐\n  setIsStampSeal({ state, commit }, payload) {\n    commit(\"setIsStampSeal\", payload);\n  },\n  setIsSealSelectorVisible({ state, commit }, visible) {\n    commit(\"setIsSealSelectorVisible\", visible);\n  },\n  // 获取印章列表\n  getSealList({ state, dispatch, commit }, { password, pwdInfo }) {\n    dispatch(\"dialog/setIsPwdDialogVisible\", false, { root: true });\n    Services.getSeals(password)\n      .then((data) => {\n        const param = { password: \"\", isRemember: false };\n        if (pwdInfo?.password) {\n          param.password = pwdInfo.password;\n          param.isRemember = pwdInfo.isRemember;\n        }\n\n        saveLocalPassword(param);\n\n        // 拿到印章列表\n        commit(\"setIsSealSelectorVisible\", true);\n        commit(\"setSealList\", data.seals);\n      })\n      .catch((e) => {\n        commit(\"setIsSealSelectorVisible\", false);\n      });\n  },\n\n  setSealDisabled({ state, commit }, sealDisabled) {\n    commit(\"setSealDisabled\", sealDisabled);\n  },\n};\n\n// mutations\nconst mutations = {\n  setSealList(state, sealList) {\n    state.sealList = sealList;\n  },\n  setIsStampSeal(state, isStampSeal) {\n    state.isStampSeal = isStampSeal;\n  },\n  setSealDisabled(state, sealDisabled) {\n    state.sealDisabled = sealDisabled;\n  },\n  setIsPwdDialogVisible(state, isPwdDialogVisible) {\n    state.isPwdDialogVisible = isPwdDialogVisible;\n  },\n  setIsSealSelectorVisible(state, isSealSelectorVisible) {\n    state.isSealSelectorVisible = isSealSelectorVisible;\n  },\n};\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations,\n};\n","// initial state\nconst state = () => ({\n  appConfig: {\n    /**\n     * 金格云阅读后端服务接口地址\n     * @type {String}\n     */\n    url: \"\",\n\n    /**\n     * 文档ID\n     * 后端盖章、删除、验证时需要通过 documentId 匹配文档\n     * @type {String}\n     */\n    documentId: \"\",\n\n    /**\n     * 是否只读\n     * @type {Boolean}\n     */\n    readOnly: false,\n  },\n});\n\n// getters\nconst getters = {};\n\n// actions\nconst actions = {};\n\n// mutations\nconst mutations = {\n  setDocumentId(state, documentId) {\n    state.appConfig.documentId = documentId;\n  },\n  setUrl(state, url) {\n    state.appConfig.url = url;\n  },\n  setReadOnly(state, readOnly) {\n    state.appConfig.readOnly = readOnly;\n  },\n};\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations,\n};\n","// initial state\nconst state = () => ({\n  // 是否打开密码弹窗\n  isPwdDialogVisible: false,\n  // 是否打开手写面板\n  isSignaturePadVisible: false,\n});\n\n// getters\nconst getters = {};\n\n// actions\nconst actions = {\n  setIsPwdDialogVisible({ state, commit }, visible) {\n    if (window.appConfig.password) {\n      return;\n    }\n    commit(\"setIsPwdDialogVisible\", visible);\n  },\n  setIsSignaturePadVisible({ state, commit }, visible) {\n    commit(\"setIsSignaturePadVisible\", visible);\n  },\n};\n\n// mutations\nconst mutations = {\n  setIsPwdDialogVisible(state, visible) {\n    state.isPwdDialogVisible = visible;\n  },\n  setIsSignaturePadVisible(state, visible) {\n    state.isSignaturePadVisible = visible;\n  },\n};\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations,\n};\n","import Vue from \"vue\";\nimport Vuex from \"vuex\";\n\nimport {\n  seal,\n  // page,\n  config,\n  dialog,\n  // permission\n} from \"./modules/index\";\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  modules: {\n    seal,\n    // page,\n    config,\n    dialog,\n    // permission\n  },\n});\n","import \"@fontsource/roboto\";\nimport \"@mdi/font/css/materialdesignicons.css\";\nimport Vue from \"vue\";\nimport Vuetify from \"vuetify/lib/framework\";\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n  breakpoint: {\n    mobileBreakpoint: \"xs\", // 600px\n  },\n});\n","import Vue from \"vue\";\nimport App from \"@/App.vue\";\nimport store from \"@/store\";\nimport vuetify from \"@/plugins/vuetify\";\nimport appConfig from \"./config/index\";\nimport DocViewer from \"@/components/doc\";\n\nimport service from \"@/service\";\nimport request from \"@/service/request\";\n\nVue.config.productionTip = false;\nVue.prototype.$appConfig = appConfig;\nVue.prototype.$http = request;\nVue.prototype.$service = service;\nVue.use(DocViewer);\n\nnew Vue({\n  store,\n  vuetify,\n  render: (h) => h(App),\n}).$mount(\"#app\");\n","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScaleController.vue?vue&type=style&index=0&id=38b88933&prod&lang=scss&scoped=true&\"","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"f0b6\";"],"sourceRoot":""}